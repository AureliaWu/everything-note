<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css">


  <meta name="keywords" content="Computer Language,UI,framework,Flutter,">





  <link rel="alternate" href="/atom.xml" title="奇天大圣的蟠桃园" type="application/atom+xml">




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1">






<meta name="description" content="写在最前面初学flutter，以跑起来为主，其他细节慢慢补充 下载与安装(Windows系统)官网地址: https://dart.dev/  Windows系统两种安装方式 通过命令行安装[不推荐] 使用官方提供的软件安装  下载地址： http://www.gekorm.com/dart-windows/ 下载安装完成后，在命令行中输入dart --version，出现版本号表示安装成功">
<meta name="keywords" content="Computer Language,UI,framework,Flutter">
<meta property="og:type" content="article">
<meta property="og:title" content="Flutter">
<meta property="og:url" content="http://garden.aezo.cn/2019/10/23/frameworks/flutter/index.html">
<meta property="og:site_name" content="奇天大圣的蟠桃园">
<meta property="og:description" content="写在最前面初学flutter，以跑起来为主，其他细节慢慢补充 下载与安装(Windows系统)官网地址: https://dart.dev/  Windows系统两种安装方式 通过命令行安装[不推荐] 使用官方提供的软件安装  下载地址： http://www.gekorm.com/dart-windows/ 下载安装完成后，在命令行中输入dart --version，出现版本号表示安装成功">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="http://garden.aezo.cn/2019/data/img/flutter/flutter_importPackage.png">
<meta property="og:updated_time" content="2023-02-24T08:23:43.336Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Flutter">
<meta name="twitter:description" content="写在最前面初学flutter，以跑起来为主，其他细节慢慢补充 下载与安装(Windows系统)官网地址: https://dart.dev/  Windows系统两种安装方式 通过命令行安装[不推荐] 使用官方提供的软件安装  下载地址： http://www.gekorm.com/dart-windows/ 下载安装完成后，在命令行中输入dart --version，出现版本号表示安装成功">
<meta name="twitter:image" content="http://garden.aezo.cn/2019/data/img/flutter/flutter_importPackage.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"right","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://garden.aezo.cn/2019/10/23/frameworks/flutter/">





  <title>Flutter | 奇天大圣的蟠桃园</title>
  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?d82223039d601f2f819f8fe140a63468";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>








  <div style="display: none;">
    <script src="//s95.cnzz.com/z_stat.php?id=cnzz_stat_icon_1276691827&web_id=cnzz_stat_icon_1276691827" language="JavaScript"></script>
  </div>





</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-right page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">奇天大圣的蟠桃园</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description">保持饥饿</h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-sitemap">
          <a href="/sitemap.xml" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-sitemap"></i> <br>
            
            站点地图
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    <!-- 文章标题之上 -->


    

  

  
  
  

  <article class="post post-type-normal " itemscope="" itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://garden.aezo.cn/2019/10/23/frameworks/flutter/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Aurelia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/30209089?s=460&v=4">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="奇天大圣的蟠桃园">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">Flutter</h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-10-23T10:29:00+08:00">
                2019-10-23
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/framework-Flutter/" itemprop="url" rel="index">
                    <span itemprop="name">framework,Flutter</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">
      
      
        <!-- 文章标题之下，正文之上。只有在文章详情也显示 -->

<div>
	<!--
	<a target="_blank" href="https://www.aliyun.com/acts/product-section-2019/new-users?userCode=oby5nolb">
		<img class="nofancybox" 
			src="https://ws1.sinaimg.cn/large/c35fb475gy1g0n87d1ofzj20o602o75u.jpg"
			alt="【开年HI购季】爆款云产品5折" title="【开年HI购季】爆款云产品5折"/>
	</a>
	 -->
</div>

      

      
      

      
        <h1 id="写在最前面"><a href="#写在最前面" class="headerlink" title="写在最前面"></a>写在最前面</h1><p>初学flutter，以跑起来为主，其他细节慢慢补充</p>
<h1 id="下载与安装-Windows系统"><a href="#下载与安装-Windows系统" class="headerlink" title="下载与安装(Windows系统)"></a>下载与安装(Windows系统)</h1><p>官网地址: <a href="https://dart.dev/" target="_blank" rel="noopener">https://dart.dev/</a> </p>
<h2 id="Windows系统两种安装方式"><a href="#Windows系统两种安装方式" class="headerlink" title="Windows系统两种安装方式"></a>Windows系统两种安装方式</h2><ol>
<li>通过命令行安装[不推荐]</li>
<li><p>使用官方提供的软件安装</p>
<ul>
<li>下载地址： <a href="http://www.gekorm.com/dart-windows/" target="_blank" rel="noopener">http://www.gekorm.com/dart-windows/</a></li>
<li>下载安装完成后，在命令行中输入<code>dart --version</code>，出现版本号表示安装成功</li>
</ul>
</li>
</ol>
<p><strong>MAC系统只能通过命令行进行安装</strong></p>
<h2 id="Dart开发工具配置Dart"><a href="#Dart开发工具配置Dart" class="headerlink" title="Dart开发工具配置Dart"></a>Dart开发工具配置Dart</h2><p>Dart的开发工具有很多: IntelliJ IDEA WebStorm Atom Vscode等。</p>
<h3 id="Vscode中配置Dart"><a href="#Vscode中配置Dart" class="headerlink" title="Vscode中配置Dart"></a>Vscode中配置Dart</h3><ol>
<li>搜索安装<code>Dart</code>插件</li>
<li>搜索安装<code>code runner</code>以运行文件</li>
</ol>
<p><strong>Vscode安装完插件后需要重启才能生效</strong></p>
<h1 id="Dart-语法"><a href="#Dart-语法" class="headerlink" title="Dart 语法"></a>Dart 语法</h1><h2 id="入口方法"><a href="#入口方法" class="headerlink" title="入口方法"></a>入口方法</h2><p>入口方法为<code>main</code>方法</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">main() &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">'Hello Dart'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>无返回值的<code>main</code>方法</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">'Hello Dart'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="注释方式"><a href="#注释方式" class="headerlink" title="注释方式"></a>注释方式</h2><p>使用 <code>//</code>、 <code>///</code> 、<code>/**/</code> 均能注释</p>
<h2 id="变量与常量"><a href="#变量与常量" class="headerlink" title="变量与常量"></a>变量与常量</h2><h3 id="定义变量"><a href="#定义变量" class="headerlink" title="定义变量"></a>定义变量</h3><p>dart定义变量时，可以不预先定义变量类型 也可以指定变量类型</p>
<p>不预先定义变量类型使用<code>var</code>进行声明</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">'this is var'</span>;</span><br></pre></td></tr></table></figure>
<p>指定变量类型：</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">String</span> str = <span class="string">'this is String'</span>;</span><br></pre></td></tr></table></figure>
<p><strong>使用了<code>var</code>就不能指定类型，指定了类型就不能使用<code>var</code></strong></p>
<h4 id="变量名称命名规则"><a href="#变量名称命名规则" class="headerlink" title="变量名称命名规则"></a>变量名称命名规则</h4><ol>
<li>变量名必须由数字、字母、下划线和美元符号(<code>$</code>)组成</li>
<li>标识符开头不能是数字</li>
<li>标识符不能是保留字和关键字</li>
<li>变量的名字区分大小写</li>
<li>标识符要见名思意： 变量名称建议用名词，方法名建议用动词</li>
</ol>
<h2 id="定义常量"><a href="#定义常量" class="headerlink" title="定义常量"></a>定义常量</h2><p>使用修饰符<code>const</code>、<code>final</code>进行修饰</p>
<ul>
<li><code>const</code> 定义的常量值不变，一开始就需要赋值</li>
<li><p><code>final</code> 可以先不赋值，但只能赋值一次 </p>
<p>  <code>final</code>不仅有<code>const</code>的编译时常量的特性，还有运行时常量的特性，调用方法时得到常量值可以用<code>final</code>修饰</p>
</li>
</ul>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">main() &#123;</span><br><span class="line">    <span class="keyword">final</span> a = <span class="keyword">new</span> <span class="built_in">DateTime</span>.now();</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(a);</span><br><span class="line"></span><br><span class="line">   <span class="comment">//  const b = new DateTime.now(); 错误写法，运行会报错</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h2><h3 id="字符串-String类型"><a href="#字符串-String类型" class="headerlink" title="字符串 (String类型)"></a>字符串 (String类型)</h3><h4 id="字符串的定义方式"><a href="#字符串的定义方式" class="headerlink" title="字符串的定义方式"></a>字符串的定义方式</h4><pre><code>- 可以用单引号(&apos;&apos;)或者双引号定义(&quot;&quot;)
- 使用三个单引号(&apos;&apos;&apos;  &apos;&apos;&apos;)或者三个双引号(&quot;&quot;&quot;  &quot;&quot;&quot;)可定义多行字符串
</code></pre><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">main() &#123;</span><br><span class="line">  <span class="keyword">var</span> str = <span class="string">'单引号定义字符串'</span>;</span><br><span class="line">  <span class="built_in">print</span>(str);</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">var</span> str2 = <span class="string">"双引号定义字符串"</span>;</span><br><span class="line">  <span class="built_in">print</span>(str2);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> str3 = <span class="string">''' </span></span><br><span class="line"><span class="string">                三个单引号</span></span><br><span class="line"><span class="string">                定义</span></span><br><span class="line"><span class="string">                多行</span></span><br><span class="line"><span class="string">                字符串</span></span><br><span class="line"><span class="string">                '''</span>;</span><br><span class="line">  <span class="built_in">print</span>(str3);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> str4 = <span class="string">""" 三个双引号</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">                  定义</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">                  多行</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">                  字符串  </span></span><br><span class="line"><span class="string">                  </span></span><br><span class="line"><span class="string">                  """</span>;</span><br><span class="line">  <span class="built_in">print</span>(str4);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="字符串的拼接"><a href="#字符串的拼接" class="headerlink" title="字符串的拼接"></a>字符串的拼接</h4><ol>
<li><p>使用<code>$</code></p>
 <figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">main() &#123;</span><br><span class="line"><span class="keyword">var</span> str1 = <span class="string">'donkey'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> str2 = <span class="string">'monkey'</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">"one: $str1,$str2"</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">"two: $str1 $str2"</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p> 输出结果：</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">one: donkey,monkey</span><br><span class="line">two: donkey monkey</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用<code>+</code></p>
 <figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">main() &#123;</span><br><span class="line">    <span class="keyword">var</span> str1 = <span class="string">'donkey'</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> str2 = <span class="string">'monkey'</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"one: "</span> + str1 + <span class="string">","</span> + str2);</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"two: "</span> + str1 + <span class="string">" "</span> + str2);    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p> 输出结果： </p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">one: donkey,monkey</span><br><span class="line">two: donkey monkey</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="数值类型-Number型"><a href="#数值类型-Number型" class="headerlink" title="数值类型(Number型)"></a>数值类型(Number型)</h3><p><code>int</code>  必须是整型</p>
<p><code>double</code> 浮点型， 也可赋值整型,但会带上小数点</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">main() &#123;</span><br><span class="line">  <span class="built_in">double</span> d = <span class="number">1</span>;</span><br><span class="line">  <span class="built_in">int</span> i = <span class="number">1</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="built_in">print</span>(<span class="string">"d: "</span> + <span class="string">"$d"</span>);</span><br><span class="line">  </span><br><span class="line">  <span class="built_in">print</span>(<span class="string">"i: "</span> + <span class="string">"$i"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果： </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">d: 1.0</span><br><span class="line">i: 1</span><br></pre></td></tr></table></figure>
<p>注： 此处打印时使用<code>print(&quot;d: &quot; + d);</code> 会报类型错误</p>
<h3 id="布尔类型"><a href="#布尔类型" class="headerlink" title="布尔类型"></a>布尔类型</h3><p>bool值只能为<code>true</code>或<code>false</code></p>
<h3 id="数组-集合类型-List"><a href="#数组-集合类型-List" class="headerlink" title="数组/集合类型 (List)"></a>数组/集合类型 (List)</h3><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">main() &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 定义List方式1</span></span><br><span class="line">    <span class="keyword">var</span> list = [<span class="string">"abc"</span>,<span class="string">"aaa"</span>,<span class="string">"ccc"</span>];</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(list);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 定义List方式2</span></span><br><span class="line">    <span class="keyword">var</span> list2 = <span class="keyword">new</span> <span class="built_in">List</span>();</span><br><span class="line">    list2.add(<span class="string">"nanana"</span>);</span><br><span class="line">    list2.add(<span class="string">"ninini"</span>);</span><br><span class="line">    list2.add(<span class="string">"nununu"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(list2);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 定义指定类型的List</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> list3 = <span class="keyword">new</span> <span class="built_in">List</span>&lt;<span class="built_in">String</span>&gt;();<span class="comment">// 只能添加String类型的元素</span></span><br><span class="line"></span><br><span class="line">    list3.add(<span class="string">"111"</span>);</span><br><span class="line">    list3.add(<span class="string">"222"</span>);</span><br><span class="line">    list3.add(<span class="string">"333"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(list3);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[abc, aaa, ccc]</span><br><span class="line">[nanana, ninini, nununu]</span><br><span class="line">[111, 222, 333]</span><br></pre></td></tr></table></figure>
<h3 id="字典类型-Map"><a href="#字典类型-Map" class="headerlink" title="字典类型(Map)"></a>字典类型(Map)</h3><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">main() &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 第一种定义Map的方式</span></span><br><span class="line">    <span class="keyword">var</span> person = &#123;</span><br><span class="line">    <span class="string">"name"</span>: <span class="string">"张三"</span>,</span><br><span class="line">    <span class="string">"age"</span>: <span class="number">18</span></span><br><span class="line"></span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(person);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(person[<span class="string">"name"</span>]);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(person[<span class="string">"age"</span>]);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 第二种定义Map的方式</span></span><br><span class="line">    <span class="keyword">var</span> p = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line"></span><br><span class="line">    p[<span class="string">"name"</span>] = <span class="string">"李四"</span>;</span><br><span class="line">    p[<span class="string">"age"</span>] = <span class="number">20</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(p);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(p[<span class="string">"name"</span>]);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(p[<span class="string">"age"</span>]);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果： </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;name: 张三, age: 18&#125;</span><br><span class="line">张三</span><br><span class="line">18</span><br><span class="line">&#123;name: 李四, age: 20&#125;</span><br><span class="line">李四</span><br><span class="line">20</span><br></pre></td></tr></table></figure>
<h3 id="数据类型的判断"><a href="#数据类型的判断" class="headerlink" title="数据类型的判断"></a>数据类型的判断</h3><p>使用关键词<code>is</code>判断数据类型</p>
<h2 id="运算符-与java一样-先跳过"><a href="#运算符-与java一样-先跳过" class="headerlink" title="运算符 (与java一样 先跳过)"></a>运算符 (与java一样 先跳过)</h2><h2 id="循环语句-与java一样-先跳过"><a href="#循环语句-与java一样-先跳过" class="headerlink" title="循环语句 (与java一样 先跳过)"></a>循环语句 (与java一样 先跳过)</h2><h2 id="集合-与java一样-先跳过"><a href="#集合-与java一样-先跳过" class="headerlink" title="集合 (与java一样 先跳过)"></a>集合 (与java一样 先跳过)</h2><h2 id="方法的定义"><a href="#方法的定义" class="headerlink" title="方法的定义"></a>方法的定义</h2><h3 id="基本格式"><a href="#基本格式" class="headerlink" title="基本格式"></a>基本格式</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">返回值类型 方法名称(参数1,参数2,[可选参数1,可选参数2],....) &#123;</span><br><span class="line">    方法体</span><br><span class="line"></span><br><span class="line">    return 返回值;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="箭头函数"><a href="#箭头函数" class="headerlink" title="箭头函数"></a>箭头函数</h3><p>箭头函数内只能写一行代码</p>
<h2 id="Dart中类和对象"><a href="#Dart中类和对象" class="headerlink" title="Dart中类和对象"></a>Dart中类和对象</h2><p>Dart中没有<code>public</code> <code>private</code> <code>protected</code> 等修饰符,若要将属性或方法私有化可以使用<code>_</code></p>
<h1 id="Flutter环境配置"><a href="#Flutter环境配置" class="headerlink" title="Flutter环境配置"></a>Flutter环境配置</h1><h2 id="windows上搭建Flutter-Android运行环境"><a href="#windows上搭建Flutter-Android运行环境" class="headerlink" title="windows上搭建Flutter Android运行环境"></a>windows上搭建Flutter Android运行环境</h2><ol>
<li>安装配置JDK</li>
<li>安装Android Studio</li>
<li>下载配置Flutter SDK</li>
<li><p>配置Flutter镜像</p>
<p> <code>build.gradle</code>中將<code>google()</code> <code>jcenter()</code>注釋掉，換成阿里鏡像地址：</p>
   <figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">maven&#123; url <span class="string">'https://maven.aliyun.com/repository/google'</span> &#125;</span><br><span class="line">maven&#123; url <span class="string">'https://maven.aliyun.com/repository/jcenter'</span> &#125;</span><br><span class="line">maven&#123;url <span class="string">'http://maven.aliyun.com/nexus/content/groups/public'</span>&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h1 id="Flutter-V-1-9-1-2019年9月更新版"><a href="#Flutter-V-1-9-1-2019年9月更新版" class="headerlink" title="Flutter (V 1.9.1 2019年9月更新版)"></a>Flutter (V 1.9.1 2019年9月更新版)</h1><h2 id="跟随官网开始学-https-flutter-dev-docs-get-started-codelab"><a href="#跟随官网开始学-https-flutter-dev-docs-get-started-codelab" class="headerlink" title="跟随官网开始学(https://flutter.dev/docs/get-started/codelab)"></a>跟随官网开始学(<code>https://flutter.dev/docs/get-started/codelab</code>)</h2><h3 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h3><p>以下代码均为VsCode中完成，<strong>光标移动到终端</strong>后可执行一些快捷命令：</p>
<ul>
<li><p><code>r</code>/<code>R</code> 热部署项目</p>
</li>
<li><p><code>p</code> 显示网格</p>
</li>
<li><p><code>o</code> 切换平台(IOS/Android平台切换)</p>
</li>
<li><p><code>q</code> 退出</p>
</li>
</ul>
<h4 id="第一步-初始化Flutter-app"><a href="#第一步-初始化Flutter-app" class="headerlink" title="第一步 初始化Flutter app"></a>第一步 初始化Flutter app</h4><ol>
<li>导入<code>material.dart</code> UI库，material官网： <code>https://material.io/</code></li>
<li><p>书写入口方法并调用</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">void main() =&gt; runApp(MyApp());</span><br></pre></td></tr></table></figure>
<ul>
<li><code>main()</code> 表示入口方法</li>
<li><code>=&gt;</code> 箭头函数，后面内容为一行时使用，一种语法糖</li>
<li><code>MyApp()</code> 自定义的方法</li>
</ul>
</li>
<li><p>声明自定义方法</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">class MyApp extends StatelessWidget &#123;</span><br><span class="line">  @override</span><br><span class="line">  Widget build(BuildContext buildcontext) &#123;</span><br><span class="line">    return MaterialApp(</span><br><span class="line">      title: &apos;This is for my note!&apos;,</span><br><span class="line">      home: Scaffold(</span><br><span class="line">        appBar: AppBar(title: Text(&apos;Demo Page&apos;),),</span><br><span class="line">        body: Center(</span><br><span class="line">          child: Text(&apos;Hello World&apos;),</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>上述demo创建了一个<code>Material app</code>,<code>Material</code>是遵循移动端和网页端标准的一种视觉设计语言，官网为 <code>https://material.io/</code>，Flutter中提供了丰富的Material组件</p>
</li>
<li><p>自定义的<code>MyApp</code>必须继承<code>StatelessWidget</code>以将自己定义为组件，在Flutter中，万物皆组件，例如： <code>alignment</code>、<code>padding</code>、<code>layout</code></p>
</li>
<li><p><code>StatelessWidget</code>是抽象类，因此要重写<code>build</code>方法，重写需要加上<code>@override</code>注释,<code>build</code>方法中必须要有参数<code>BuildContext</code></p>
</li>
<li><p><code>Scaffold</code>是<code>Material</code>中的一个组件,提供了自定义<code>appbar</code>、<code>title</code>、<code>body</code>属性来维持<code>home</code>页面的组件树，<code>Scaffold</code>的子组件可以很复杂，用于构建所需界面</p>
</li>
<li><p>一个组件的主要方法就是提供<code>build()</code>方法来将其它或者更低级的组件封装来定义界面显示</p>
</li>
<li><p>上述demo中的<code>body</code>是由<code>Center</code>组件和其子组件<code>Text</code>组成的，<code>Center</code>组件表示将其子组件设置为居中屏幕对齐</p>
</li>
</ul>
</li>
</ol>
<h4 id="第二步-引用外部包"><a href="#第二步-引用外部包" class="headerlink" title="第二步 引用外部包"></a>第二步 引用外部包</h4><p>此步骤中，使用一个外部开源包<code>english_words</code>,此包中含有常用英语以及一些实用短语。</p>
<p><code>english_words</code>包以及其它开源包可在<code>https://pub.dev/</code>中获取</p>
<ol>
<li><p><code>pubspec</code>文件负责管理Flutter APP中的依赖和assets。打开项目根目录下的<code>pubspec.yaml</code>文件，将<code>english_words</code>及其版本添加到依赖列表中：</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">name: flutter_app</span><br><span class="line">description: A new Flutter application.</span><br><span class="line"></span><br><span class="line">environment:</span><br><span class="line">  sdk: &quot;&gt;=2.1.0 &lt;3.0.0&quot;</span><br><span class="line"></span><br><span class="line">dependencies:</span><br><span class="line">  flutter:</span><br><span class="line">    sdk: flutter</span><br><span class="line">  cupertino_icons: ^0.1.2</span><br><span class="line">  # 此处添加依赖</span><br><span class="line">  english_words: ^3.1.5</span><br><span class="line"></span><br><span class="line">dev_dependencies:</span><br><span class="line">  flutter_test:</span><br><span class="line">    sdk: flutter</span><br></pre></td></tr></table></figure>
</li>
<li><p>依赖添加完成后，VSCode会自动导包，并在根目录下的<code>pubspec.lock</code>文件中自动生成对应外部包的相关信息。如果使用的是<code>Android Studio</code>则需要点击<code>Packages get</code>进行导包，无论使用哪种，只要控制台出现了<code>Running &quot;flutter pub get&quot; in 项目名...</code>就表示已将外部包成功导入项目中</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">english_words:</span><br><span class="line">dependency: &quot;direct main&quot;</span><br><span class="line">description:</span><br><span class="line">  name: english_words</span><br><span class="line">  url: &quot;https://pub.dartlang.org&quot;</span><br><span class="line">source: hosted</span><br><span class="line">version: &quot;3.1.5&quot;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在<code>lib/main.dart</code>文件中引入</p>
<p> <img src="../../../../data/img/flutter/flutter_importPackage.png" alt="flutter引入外包"></p>
<p> 引入时编辑器会提示此包还未使用、</p>
</li>
<li><p>使用<code>english_words</code>生成文字代替上述demo中的<code>Hello World</code></p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">import &apos;package:flutter/material.dart&apos;;</span><br><span class="line">import &apos;package:english_words/english_words.dart&apos;;// 导包</span><br><span class="line"></span><br><span class="line">void main() =&gt; runApp(MyApp());</span><br><span class="line"></span><br><span class="line">class MyApp extends StatelessWidget &#123;</span><br><span class="line">  @override</span><br><span class="line">  Widget build(BuildContext buildcontext) &#123;</span><br><span class="line">    // 注入</span><br><span class="line">    final wordPair = WordPair.random();</span><br><span class="line"></span><br><span class="line">    return MaterialApp(</span><br><span class="line">      title: &apos;This is for my note!&apos;,</span><br><span class="line">      home: Scaffold(</span><br><span class="line">        appBar: AppBar(title: Text(&apos;Demo Page&apos;),),</span><br><span class="line">        body: Center(</span><br><span class="line">          child: Text(wordPair.asPascalCase),// 使用</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p> 注： <code>wordPair.asPascalCase</code>中<code>PascalCase</code>表示将每个单词的首字母大写，如将<code>helloworld</code>写成<code>HelloWorld</code></p>
</li>
<li><p>上述代码每热部署(Android Studio快捷键<code>ctrl+s</code>; VScode在终端键入<code>r</code>)一次,界面就会随机显示不同的词语。因为该词语是在<code>build</code>方法中生成的，每启动一次项目或切换平台时，MaterialApp就会重新进行渲染。</p>
</li>
</ol>
<h4 id="第三步-添加一个有状态的组件"><a href="#第三步-添加一个有状态的组件" class="headerlink" title="第三步 添加一个有状态的组件"></a>第三步 添加一个有状态的组件</h4><p><code>Stateless</code>组件是不可变的，即其所有属性都无法改变——所有值都为final。</p>
<p><code>Stateful</code>组件的状态在组件的生命周期内可变化。实现一个有状态的组件至少需要两个类</p>
<p>  1) <code>StatefulWidget</code>类<br>  2) <code>State</code>类</p>
<p>创建一个<code>State</code>类的对象<code>StatefulWidget</code></p>
<p><code>StatefulWidget</code>类本身是不可变的，但<code>State</code>类在组件的生命周期中会一直存在</p>
<p>在此步骤中，会添加一个有状态的组件<code>RandomWords</code>继承新创建父类<code>RandomWordsState</code>，然后就能在无状态组件<code>MyApp</code>中作为<code>child</code>来使用<code>RandomWords</code>了。</p>
<ol>
<li><p>在<code>main.dart</code>中创建有状态类<code>RandomWordsState</code></p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">class RandomWordsState extends State&lt;RandomWords&gt; &#123;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p> <code>State&lt;RandomWords&gt;</code>表示声明一个泛型为<code>RandomWords</code>的通用类<code>State</code>。App中大多数的逻辑和状态都存在这，这里表示状态为<code>RandomWords</code>的组件。这个类将保存随着用户滚动而无限增长的生成的单词对， 以及喜欢的单词对，用户通过重复点击心形 ❤️ 图标来将它们从列表中添加或删除。(<strong>啥玩意儿？没懂</strong>)</p>
<p> <code>RandomWordsState</code>依赖于<code>RandomWords</code>类</p>
</li>
<li><p>在<code>main.dart</code>中添加有状态的<code>RandomWords</code>组件。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">class RandomWords extends StatefulWidget &#123;</span><br><span class="line">  @override</span><br><span class="line">  RandomWordsState createState() =&gt; RandomWordsState();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>添加完成后，编辑器会提示<code>RandomWordsState</code>缺少<code>build</code>方法,接下来就是通过将<code>MyApp</code>中的代码移动到<code>RandomWordsState</code>中，为<code>RandomWordsState</code>添加<code>build</code>方法。</p>
</li>
<li><p>在<code>RandomWordsState</code>中添加<code>build</code>方法</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">class RandomWordsState extends State&lt;RandomWords&gt; &#123;</span><br><span class="line">  @override</span><br><span class="line">  Widget build(BuildContext buildContext) &#123;</span><br><span class="line">    final wordPair = WordPair.random();</span><br><span class="line"></span><br><span class="line">    return Text(wordPair.asPascalCase);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>修改MyApp中生成随机文字部分的代码</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">class MyApp extends StatelessWidget &#123;</span><br><span class="line">  @override</span><br><span class="line">  Widget build(BuildContext buildcontext) &#123;</span><br><span class="line"></span><br><span class="line">    return MaterialApp(</span><br><span class="line">      title: &apos;This is for my note!&apos;,</span><br><span class="line">      home: Scaffold(</span><br><span class="line">        appBar: AppBar(title: Text(&apos;Demo Page&apos;),),</span><br><span class="line">        body: Center(</span><br><span class="line">          child: RandomWords(),</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>重启App。</p>
</li>
</ol>
<h4 id="第四步-创建无限滚动的ListView"><a href="#第四步-创建无限滚动的ListView" class="headerlink" title="第四步 创建无限滚动的ListView"></a>第四步 创建无限滚动的ListView</h4><p>在此步骤中，你将<code>RandomWordsState</code>扩展成展示词语的列表。用户滚动屏幕，该列表将无限展示词语。</p>
<p><code>ListView</code>的<code>builder</code>构造函数工厂可以根据需求快速创建列表。</p>
<ol>
<li><p>在<code>RandomWordsState</code>中创建一个<code>_suggestions</code>列表来保存推荐的成语。同时创建一个<code>_biggerFont</code>变量来使字体变大。</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">class RandomWordsState extends State&lt;RandomWords&gt; &#123;</span><br><span class="line">  final _suggestions = &lt;WordPair&gt;[];</span><br><span class="line">  final _biggerFont = const TextStyle(fontSize: 18);</span><br><span class="line">  </span><br><span class="line">  @override</span><br><span class="line">  Widget build(BuildContext buildContext) &#123;</span><br><span class="line">    final wordPair = WordPair.random();</span><br><span class="line"></span><br><span class="line">    return Text(wordPair.asPascalCase);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p> 注： 在Dart语法中，前缀用<code>_</code>表示私有</p>
<p> 接下来为<code>RandomWordsState</code>类添加方法<code>_buildSuggestions()</code>，此方法用于创建显示推荐的词语。</p>
<p> <code>ListView</code>类中提供了属性<code>itemBuilder</code>,这是一个工厂匿名回调函数，含有两个参数： <code>BuildContext</code>和迭代器<code>i</code>。迭代器从0开始递增，每生成推荐的一次单词对就会自增两次，一次用于<code>ListTile</code>,一次用于<code>Divider</code>。此模式能随着用户的滚动无限出现单词对。</p>
</li>
<li><p>在<code>RandomWordsState</code>类中添加<code>_buildSuggestions()</code>方法</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Widget _buildSuggestions() &#123;</span><br><span class="line">  return ListView.builder(</span><br><span class="line">    padding: const EdgeInsets.all(16),</span><br><span class="line">    itemBuilder: (context, i ) &#123;</span><br><span class="line">      if(i.isOdd) return Divider();</span><br><span class="line"></span><br><span class="line">      final index = i ~/ 2;</span><br><span class="line">      if(index &gt;= _suggestions.length) &#123;</span><br><span class="line">        _suggestions.addAll(generateWordPairs().take(10));</span><br><span class="line">      &#125;</span><br><span class="line">      return _buildRow(_suggestions[index]);</span><br><span class="line">    &#125;,</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><p><code>itemBuilder</code>每产生一对单词对就会被回调一次，并将每对单词对放入<code>ListTile</code>行中。偶数行添加<code>ListTile</code>行；奇数行添加<code>Divider</code>组件将每对单词分开。需要注意的是，<code>Divider</code>在小屏上看起来可能不太明显</p>
</li>
<li><p><code>if(i.isOdd) return Divider();</code>表示在<code>ListView</code>的每一行之前加上1像素的分割线</p>
</li>
<li><p><code>final index = i ~/ 2;</code>表达式<code>~/</code>表示取<code>i/2</code>结果的整型，向下取整。例如：i为1,2,3,4,5时，得到的结果分别为0,1,1,2,2。此处用于计算<code>ListView</code>中减去分割线后实际的单词对数量。</p>
</li>
<li><p>如果是建议列表中最后一个单词对，接着再生成10个单词对，然后添加到建议列表。</p>
<p><code>_buildSuggestions()</code>方法每生成一对单词对就会调用一次<code>_buildRow</code>。<code>_buildRow</code>用于在<code>ListTile</code>中显示新的单词对以使下一步中每行看起来更漂亮</p>
</li>
</ul>
</li>
<li><p>在<code>RandomWordsState</code>中添加<code>_buildRow</code>方法</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">  Widget _buildRow(WordPair wordPair) &#123;</span><br><span class="line">  return ListTile(</span><br><span class="line">    title: Text(</span><br><span class="line">      wordPair.asPascalCase,</span><br><span class="line">      style: _biggerFont,</span><br><span class="line">    ),</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>更新<code>RandomWordsState</code>类中的<code>build</code>方法，使用<code>_buildSuggestions()</code>代替直接调用单词生成库。脚手架(Scaffold)实现了基本的<code>Material</code>设计视觉布局。将<code>body</code>中的内容改成：</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">@override</span><br><span class="line">Widget build(BuildContext buildContext) &#123;</span><br><span class="line">  return Scaffold(</span><br><span class="line">    appBar: AppBar(title: Text(&apos;Infinity scroll word pairs&apos;)),</span><br><span class="line">    body: _buildSuggestions(),</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<ol start="5">
<li><p>更新<code>MyApp</code>类中<code>build</code>方法，修改<code>title</code>并将<code>home</code>改成<code>RandomWords</code>组件</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">class MyApp extends StatelessWidget &#123;</span><br><span class="line">  @override</span><br><span class="line">  Widget build(BuildContext buildcontext) &#123;</span><br><span class="line"></span><br><span class="line">    return MaterialApp(</span><br><span class="line">      title: &apos;Startup Name Generator&apos;,</span><br><span class="line">      home: RandomWords(),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>重启项目即可查看结果</p>
</li>
</ol>
<h2 id="Flutter内置组件"><a href="#Flutter内置组件" class="headerlink" title="Flutter内置组件"></a>Flutter内置组件</h2><h3 id="基本结构"><a href="#基本结构" class="headerlink" title="基本结构"></a>基本结构</h3><p>MaterialAPP组件作为根组件，具有<code>home</code>属性，<code>home</code>属性调用<code>Scaffold</code>组件</p>
<p>实例化类时，关键字<code>new</code>可以省略。</p>
<h3 id="Scaffold组件"><a href="#Scaffold组件" class="headerlink" title="Scaffold组件"></a>Scaffold组件</h3><ul>
<li><p><code>appBar</code></p>
<p>顶部导航栏</p>
</li>
<li><p><code>body</code></p>
<p>页面内容</p>
</li>
</ul>
<ul>
<li><p><code>bottomNavigationBar</code></p>
<p>底部导航栏</p>
</li>
<li><p><code>floatingActionButton</code></p>
<p>右下角浮动按钮</p>
</li>
<li><p><code>drawer</code> 、 <code>endDrawer</code></p>
<p><code>drawer</code>左侧侧边栏 <code>endDrawer</code></p>
<p>值类型为<code>Drawer</code>,详见<code>Drawer</code>组件</p>
</li>
</ul>
<h3 id="Text组件"><a href="#Text组件" class="headerlink" title="Text组件"></a>Text组件</h3><p>属性写在<code>Text()</code>中，内容为必填，还有很多可选参数。例如<code>style</code>用来设置文本的样式，值需要使用内置组件<code>TextStyle</code>，<code>TextStyle</code>中可以设置字体大小、颜色等文字相关样式</p>
<p>Flutter中的文本都不能直接写，必须使用Text进行封装</p>
<ul>
<li><p><code>textAlign</code>(文本对齐方式)</p>
<ul>
<li><p><code>TextAlign.center</code> 居中</p>
</li>
<li><p><code>TextAlign.left</code> 左对齐</p>
</li>
<li><p><code>TextAlign.right</code> 右对齐</p>
</li>
<li><p><code>TextAlign.justify</code> 两端对齐</p>
</li>
</ul>
</li>
<li><p><code>textDirection</code> (文本方向)</p>
<ul>
<li><p><code>TextDirection.ltr</code> 从左到右</p>
</li>
<li><p><code>TextDirection.rtl</code> 从右到左</p>
</li>
</ul>
</li>
<li><p><code>overflow</code> 文本溢出后的处理方式</p>
<ul>
<li><p><code>TextOverflow.ellipsis</code> 溢出部分用<code>...</code>代替</p>
</li>
<li><p><code>TextOverflow.fade</code> 文字溢出，从上往下为渐变效果</p>
</li>
<li><p><code>TextOverflow.clip</code> 溢出部分裁剪(默认)</p>
</li>
</ul>
</li>
<li><p><code>textScaleFactor</code> 字体显示倍率</p>
<p>相对于谁的倍率？父元素？</p>
</li>
<li><p><code>maxLines</code> 文字最大显示行数</p>
</li>
<li><p><code>style</code> 字体样式设置</p>
<p>值需要用<code>TextStyle</code>进行封装，可设置字体样式</p>
<ul>
<li><p><code>decoration</code> 文字装饰线</p>
<ul>
<li><p><code>TextDecoration.overline</code> 上划线</p>
</li>
<li><p><code>TextDecoration.lineThrough</code> 中划线(删除线)</p>
</li>
<li><p><code>TextDecoration.underline</code> 下划线</p>
</li>
<li><p><code>TextDecoration.none</code> 无装饰(默认)</p>
</li>
</ul>
</li>
<li><p><code>decorationColor</code> 文字装饰线颜色</p>
</li>
<li><p><code>decorationStyle</code> 文字装饰线样式</p>
</li>
<li><p><code>decorationThickness</code> 文字装饰线粗细</p>
</li>
<li><p><code>color</code> 字体颜色</p>
</li>
<li><p><code>backgroundColor</code>(文字填充色)</p>
</li>
<li><p><code>fontSize</code> (字体大小)</p>
<p>默认为14像素，若设置了字体显示倍率<code>textScaleFactor</code>,则渲染出来的字体大小 = <code>fontSize</code> * <code>textScaleFactor</code></p>
</li>
<li><p><code>fontWeight</code>(字体粗细)</p>
<ul>
<li><p><code>FontWeight.bold</code> 加粗 (w700)</p>
</li>
<li><p><code>FontWeight.normal</code> 正常(默认 w400)</p>
</li>
<li><p><code>FontWeight.wxxx</code> <code>xxx</code>为自定义加粗数值</p>
</li>
</ul>
</li>
<li><p><code>fontStyle</code> (字体样式是否倾斜)</p>
<ul>
<li><code>FontStyle.italic</code> 字体倾斜</li>
</ul>
</li>
<li><p><code>letterSpacing</code> (字间距，常用于中文字体)</p>
</li>
<li><p><code>wordSpacing</code> (单词间距)</p>
</li>
</ul>
</li>
</ul>
<hr>
<p>  以下以后慢慢研究</p>
<ul>
<li><code>textBaseline</code></li>
<li><code>height</code></li>
<li><code>locale</code></li>
<li><code>foreground</code></li>
<li><code>background</code></li>
<li><code>shadows</code></li>
<li><code>fontFeatures</code> </li>
<li><code>debugLabel</code></li>
<li><code>fontFamily</code></li>
<li><code>fontFamilyFallback</code></li>
<li><code>package</code></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">import &apos;package:flutter/material.dart&apos;; // 引入material.io的UI包</span><br><span class="line"></span><br><span class="line">void main() =&gt; runApp(MyApp());</span><br><span class="line"></span><br><span class="line">class MyApp extends StatelessWidget &#123;</span><br><span class="line"></span><br><span class="line">  @override</span><br><span class="line">  Widget build(BuildContext buildContext) &#123;</span><br><span class="line">    return MaterialApp(</span><br><span class="line">      title: &apos;Welcome to flutter&apos;,</span><br><span class="line">      home: Scaffold(</span><br><span class="line">        appBar: AppBar(</span><br><span class="line">          title: Text(&apos;Welcome to Flutter for bar &apos;)</span><br><span class="line">        ),</span><br><span class="line">        body: Center(</span><br><span class="line">          child: Text(</span><br><span class="line">            &apos;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Sunt corrupti reprehenderit aliquid harum, perspiciatis aliquam omnis?&apos;,// 文本内容</span><br><span class="line">            textAlign: TextAlign.left,// 文字对齐样式</span><br><span class="line">            maxLines: 1,//最大显示行</span><br><span class="line">            // overflow: TextOverflow.ellipsis,// 文字溢出使用...代替</span><br><span class="line">            overflow: TextOverflow.fade, // 文字溢出，从上往下为渐变效果</span><br><span class="line">          ),</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Container组件-容器组件"><a href="#Container组件-容器组件" class="headerlink" title="Container组件/容器组件"></a>Container组件/容器组件</h3><p>作用类似于<code>div</code></p>
<p>常用属性(键值对)：</p>
<ul>
<li><p><code>width</code> 、 <code>height</code></p>
<p>宽度和高度，此宽高将<code>padding</code>的值包含在内,相当于CSS中的填充盒宽高</p>
<p>不设置宽高时，<code>Container</code>会自动充满屏幕</p>
<p><strong>宽高的取值类型定义为了<code>double</code>，好几个视频老师强调如果是整数也需要写成浮点型，但实际写成<code>int</code>型也能执行，有可能是版本更新的原因，暂不深究</strong></p>
</li>
<li><p><code>alignment</code>(<strong>内容</strong>对齐方式)</p>
<p><code>alignment: Alignment.topLeft</code>值为<code>Alignment</code>类型，取值一般为以下</p>
<ul>
<li><p><code>Alignment.topLeft</code> 上部靠左对齐</p>
</li>
<li><p><code>Alignment.topCenter</code> 上部居中对齐</p>
</li>
<li><p><code>Alignment.topRight</code> 上部靠右对齐</p>
</li>
<li><p><code>Alignment.center</code> 居中对齐</p>
</li>
<li><p><code>Alignment.bottomLeft</code> 下部靠左对齐</p>
</li>
<li><p><code>Alignment.bottomCenter</code> 下部居中对齐</p>
</li>
<li><p><code>Alignment.bottomRight</code> 下部靠右对齐</p>
</li>
</ul>
</li>
<li><p><code>padding</code> (内边距)</p>
<p>默认值为0,类型为<code>EdgeInsets</code></p>
<ul>
<li><p><code>EdgeInsets.all(10)</code>  上下左右内边距均为10</p>
</li>
<li><p><code>EdgeInsets.fromLTRB(left, top, right, bottom)</code> 左上右下分别设置内边距</p>
</li>
</ul>
</li>
<li><p><code>margin</code>(外边距)</p>
<p>基本用法参见<code>padding</code></p>
</li>
<li><p><code>color</code> (背景填充色)</p>
<p><code>color: Colors.pink</code> </p>
<ul>
<li><p>此背景色填充范围涵盖<code>padding</code>,相当于CSS中的填充盒</p>
</li>
<li><p>取值为<code>Color</code>类</p>
<ul>
<li><p><code>Colors.内置颜色单词</code> 框架内置颜色</p>
</li>
<li><p><code>Color.fromARGB(a, r, g, b)</code> a、r、g、b分别表示透明度、红、绿、蓝，类型均为<code>int</code></p>
</li>
<li><p><code>Color.fromRGBO(r, g, b, opacity)</code> opacity表示透明度，类型为<code>double</code>,其他均为<code>int</code></p>
</li>
</ul>
</li>
</ul>
<p><code>color</code>实际上是<code>BoxDecoration(color: color)</code>的简写，因此设置了这里的颜色就不能设置<code>decoration</code>中的任意<code>color</code>(例如<code>border</code>中的颜色),否则执行会报错: <code>Cannot provide both a color and a decoration</code></p>
</li>
<li><p><code>decoration</code> (边框及背景颜色)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">decoration: BoxDecoration(</span><br><span class="line">  color: Colors.pink,</span><br><span class="line">  border: Border.all(</span><br><span class="line">    color: Colors.blue,</span><br><span class="line">    width: 20</span><br><span class="line">  )</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p><code>decoration</code>取值为<code>BoxDecoration</code>类，可以设置边框样式及背景填充色</p>
<p><code>decoration</code>也可设置背景色为渐变，写法如下： </p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">body: Center(</span><br><span class="line">  child: Container(</span><br><span class="line">    child: new Text(&apos;Flutter盒模型&apos;, style: TextStyle(fontSize: 40.0)),</span><br><span class="line">    alignment: Alignment.topRight,</span><br><span class="line">    width: 300,</span><br><span class="line">    height: 300,</span><br><span class="line">    // color: Colors.pink,</span><br><span class="line">    padding: const EdgeInsets.fromLTRB(10, 20, 30, 40),</span><br><span class="line">    margin: const EdgeInsets.all(10),</span><br><span class="line">    decoration: new BoxDecoration(</span><br><span class="line">      gradient: const LinearGradient(</span><br><span class="line">        colors: [Colors.pink,Colors.purple,Colors.white]</span><br><span class="line">      ),</span><br><span class="line">      border: Border.all(width: 6,color: Colors.lightBlue)</span><br><span class="line">    ),</span><br><span class="line">  </span><br><span class="line">  )</span><br><span class="line">),</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>foregroundDecoration</code> (暂不研究)</p>
</li>
<li><p><code>constraints</code>(暂不研究)</p>
</li>
<li><p><code>transform</code>(旋转Container)</p>
<p>类似CSS3中的<code>transform</code>属性，待深究</p>
</li>
<li><p><code>child</code> (子元素) <strong>此部分待考究，先往下学</strong></p>
<p><code>Container</code>的子元素(大概要称为子组件？)</p>
<p>不设置<code>child</code>和<code>constraints</code>时，内容会自动撑满可用空间。</p>
<ul>
<li><p>若未设置宽高值，可用空间为整个父类；</p>
</li>
<li><p>若设置了宽高且未设置<code>constraints</code>时，可用空间为所设置的范围内</p>
</li>
<li><p>若只设置宽或高，不设置<code>constraints</code>时，未设置的那部分会自动撑满</p>
</li>
</ul>
</li>
</ul>
<h3 id="image-图片组件"><a href="#image-图片组件" class="headerlink" title="image(图片组件)"></a>image(图片组件)</h3><p>为图片添加滤镜(图片混合模式)</p>
<ul>
<li><p><code>Image.network</code> 添加网络图片</p>
<ul>
<li><p><code>src</code> 直接填写，不用封装成字典形式，除<code>src</code>可以直接填写以外，其他属性都要使用字典样式</p>
</li>
<li><p><code>alignment</code> 图片对齐方式</p>
</li>
<li><p><code>color</code> <code>colorBlendMode</code> 联合使用 用于将图片和背景色混合</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">child: new Image.network(</span><br><span class="line">  &apos;https://w.wallhaven.cc/full/dg/wallhaven-dgv8qo.png&apos;,</span><br><span class="line">  color: Colors.greenAccent,</span><br><span class="line">  colorBlendMode: BlendMode.darken,</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>fit</code> </p>
<p>控制图片在容器中显示的效果(拉伸、 挤压等),使用<code>BoxFit</code>类封装</p>
<ul>
<li><p><code>BoxFit.fill</code> 充满父容器</p>
</li>
<li><p><code>BoxFit.fitHeight</code> 高度方向拉伸充满父容器</p>
</li>
<li><p><code>BoxFit.fitWidth</code> 宽度方向拉伸充满父容器</p>
</li>
<li><p><code>BoxFit.contain</code> 全图显示，保持原比例，可能会有空隙</p>
</li>
<li><p><code>BoxFit.cover</code> 充满父容器且保持原比例，可能会有部分内容被裁切</p>
</li>
</ul>
</li>
<li><p><code>repeat</code> </p>
<p>图片在容器中的平铺效果，默认只显示一张图片</p>
<ul>
<li><p><code>ImageRepeat.repeatY</code> Y方向平铺</p>
</li>
<li><p><code>ImageRepeat.repeatX</code> X方向平铺</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="圆角图片实现的两种方式"><a href="#圆角图片实现的两种方式" class="headerlink" title="圆角图片实现的两种方式"></a>圆角图片实现的两种方式</h4><ol>
<li><p>使用<code>Container</code>的圆角属性<code>borderRadius</code>和 <code>image</code></p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">class MyApp extends StatelessWidget &#123;</span><br><span class="line">  @override</span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    return MaterialApp(</span><br><span class="line">      home: Scaffold(</span><br><span class="line">        appBar: AppBar(title: Text(&apos;I am learning Container&apos;)),</span><br><span class="line">        body: Container(</span><br><span class="line">          width: 300,</span><br><span class="line">          height: 300,</span><br><span class="line">          decoration: BoxDecoration(</span><br><span class="line">            color: Colors.pinkAccent,</span><br><span class="line">            borderRadius: BorderRadius.circular(150),// 指定弧度为宽高的一半就能变成圆形</span><br><span class="line">            image: DecorationImage(</span><br><span class="line">              image: NetworkImage(&apos;https://w.wallhaven.cc/full/vm/wallhaven-vmg8r3.jpg&apos;),</span><br><span class="line">              fit: BoxFit.cover</span><br><span class="line">            )</span><br><span class="line">          ),</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">      theme: ThemeData(primaryColor: Colors.lime),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用<code>ClipOval</code>组件</p>
<p><code>ClipOval</code>会自动子图片设置弧度，若要设置圆形的图片，需要设置图片的宽高的<code>fit</code>属性，以保证每一张图片都为圆形</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">class MyApp extends StatelessWidget &#123;</span><br><span class="line">  @override</span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    return MaterialApp(</span><br><span class="line">      home: Scaffold(</span><br><span class="line">        appBar: AppBar(title: Text(&apos;I am learning Container&apos;)),</span><br><span class="line">        body: Container(</span><br><span class="line">          child: ClipOval(</span><br><span class="line">            child: Image.network(&apos;https://w.wallhaven.cc/full/42/wallhaven-4277l6.jpg&apos;,</span><br><span class="line">              height: 100,</span><br><span class="line">              width: 100,</span><br><span class="line">              fit: BoxFit.cover</span><br><span class="line">            ),</span><br><span class="line">          ),</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">      theme: ThemeData(primaryColor: Colors.lime),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h4 id="引入本地图片"><a href="#引入本地图片" class="headerlink" title="引入本地图片"></a>引入本地图片</h4><p>一般建议存放图标等内容</p>
<ol>
<li><p>在根目录中新建文件夹<code>images</code>,在<code>images</code>下创建子文件夹<code>2.0x</code>、<code>3.0x</code>、<code>4.0x</code>… 官网要求必须有<code>2.0x</code>和<code>3.0x</code></p>
</li>
<li><p>将图片复制到上面新建的每一个子文件夹中</p>
<p><strong>Flutter项目运行在手机上时会根据不同屏幕的分辨率加载不同文件夹下对应的图片，因此必须按照上述步骤配置多个文件夹</strong></p>
</li>
<li><p>在<code>pubspec.yaml</code>文件中的<code>assets</code>配置图片路径</p>
 <figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">assets:</span><br><span class="line">  - images/a_dot_burr.jpeg</span><br><span class="line">  - images/a_dot_ham.jpeg</span><br></pre></td></tr></table></figure>
</li>
<li><p>引入本地图片时使用<code>Image.asset</code>来设置图片地址，其他属性设置与<code>Image.network</code>相同</p>
</li>
</ol>
<p><strong>更正：本地图片的文件夹不需要按照步骤1、2中所说的方式定死，只要在<code>pubspec.yaml</code>文件中配置好自定义的文件简爱就可以了，上述步骤可能是老版本限制</strong></p>
<h3 id="列表组件-ListView"><a href="#列表组件-ListView" class="headerlink" title="列表组件 ListView"></a>列表组件 ListView</h3><p>可用于新闻列表。Fluter中提供了五种常见的列表：垂直列表、垂直图文列表、水平列表、动态列表、矩阵式列表</p>
<h4 id="列表组件中的参数"><a href="#列表组件中的参数" class="headerlink" title="列表组件中的参数"></a>列表组件中的参数</h4><ul>
<li><p><code>children</code></p>
<p>列表中的元素，使用<code>&lt;Widget&gt;[]</code>封装，<code>&lt;Widget&gt;[]</code>中可以添加任何组件，如<code>Container()</code> <code>Image.network(src)</code>等,但一般都是配合<code>ListTile</code>组件使用</p>
<ul>
<li><p><code>ListTile</code>参数</p>
<p>官方文档： <code>A single fixed-height row that typically contains some text as well as a leading or trailing icon.</code></p>
<ul>
<li><p><code>title</code> 标题</p>
</li>
<li><p><code>subtitle</code> 二级标题</p>
</li>
<li><p><code>leading</code> 列表前图标： <code>Icon(Icons.内置图标名)</code>； <code>Icon()</code>中还可以设置其他属性，如图标大小、颜色等，可以以后研究</p>
</li>
<li><p><code>trailing</code> 列表末尾图标，设置同<code>leading</code></p>
</li>
</ul>
<p><strong><code>leading</code>和<code>trailing</code>还可以使用<code>Image.asset()</code>设置图片</strong></p>
</li>
</ul>
</li>
<li><p><code>padding</code> 列表整体的内边距</p>
</li>
<li><p><code>scrollDirection</code> 列表方向</p>
<p>默认为垂直列表，将<code>scrollDirection</code>设置成为<code>Axis.horizontal</code>时，变为水平列表但此处有坑，当<code>children</code>为<code>ListTile</code>时，无法设置<code>ListTile</code>的宽度，此时若设置成为水平列表则会报错 <code>BoxConstraints forces an infinite width</code>。</p>
<p>水平列表无法使用<code>ListTile</code>??需要研究下<code>ListTile</code>是个啥</p>
</li>
</ul>
<h4 id="动态列表"><a href="#动态列表" class="headerlink" title="动态列表"></a>动态列表</h4><ol>
<li><p>通过循环语句实现动态列表</p>
<ul>
<li><p>在同一类中直接获取数组</p>
<ul>
<li><p>自定义一个私有方法返回一个数组，返回类型必须为<code>List&lt;Widget&gt;</code></p>
</li>
<li><p>调用自定义方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">class MyApp extends StatelessWidget &#123;</span><br><span class="line"></span><br><span class="line">  List&lt;Widget&gt; _getData() &#123;</span><br><span class="line">    List&lt;Widget&gt; list = new List();</span><br><span class="line"></span><br><span class="line">    for(var i=0; i&lt;20; i++) &#123;</span><br><span class="line">      list.add(ListTile(title: Text(&apos;这是第$i个列表&apos;)));</span><br><span class="line">    &#125;</span><br><span class="line">    return list;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  @override</span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    return MaterialApp(</span><br><span class="line">      home: Scaffold(</span><br><span class="line">        appBar: AppBar(title: Text(&apos;I am learning Container&apos;)),</span><br><span class="line">        body: Container(</span><br><span class="line">          child: ListView(</span><br><span class="line">              children: _getData()</span><br><span class="line">            ),</span><br><span class="line">        ) </span><br><span class="line">      ),</span><br><span class="line">      theme: ThemeData(primaryColor: Colors.lime),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>导入外部文件中的数据</p>
<p>假设有外部数据文件<code>data/list.dart</code>如下：</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">List listData = [</span><br><span class="line">                    &#123;</span><br><span class="line">                      &quot;title&quot;: &quot;myhome&quot;,</span><br><span class="line">                      &quot;author&quot;: &quot;lalaby&quot;,</span><br><span class="line">                      &quot;imageUrl&quot;: &quot;https://w.wallhaven.cc/full/nk/wallhaven-nk1gkd.jpg&quot;</span><br><span class="line">                    &#125;,</span><br><span class="line">                    &#123;</span><br><span class="line">                      &quot;title&quot;: &quot;work&quot;,</span><br><span class="line">                      &quot;author&quot;: &quot;nino&quot;,</span><br><span class="line">                      &quot;imageUrl&quot;: &quot;https://w.wallhaven.cc/full/vm/wallhaven-vmg8r3.jpg&quot;</span><br><span class="line">                    &#125;,</span><br><span class="line">                    &#123;</span><br><span class="line">                      &quot;title&quot;: &quot;ala&quot;,</span><br><span class="line">                      &quot;author&quot;: &quot;kiyo&quot;,</span><br><span class="line">                      &quot;imageUrl&quot;: &quot;https://w.wallhaven.cc/full/47/wallhaven-47kkd3.jpg&quot;</span><br><span class="line">                    &#125;,</span><br><span class="line">                    &#123;</span><br><span class="line">                      &quot;title&quot;: &quot;olo&quot;,</span><br><span class="line">                      &quot;author&quot;: &quot;mizu&quot;,</span><br><span class="line">                      &quot;imageUrl&quot;: &quot;https://w.wallhaven.cc/full/42/wallhaven-4277l6.jpg&quot;</span><br><span class="line">                    &#125;,</span><br><span class="line">                    &#123;</span><br><span class="line">                      &quot;title&quot;: &quot;yojo&quot;,</span><br><span class="line">                      &quot;author&quot;: &quot;yama&quot;,</span><br><span class="line">                      &quot;imageUrl&quot;: &quot;https://w.wallhaven.cc/full/4x/wallhaven-4x93gv.png&quot;</span><br><span class="line">                    &#125;,</span><br><span class="line">                    &#123;</span><br><span class="line">                      &quot;title&quot;: &quot;yolo&quot;,</span><br><span class="line">                      &quot;author&quot;: &quot;sla&quot;,</span><br><span class="line">                      &quot;imageUrl&quot;: &quot;https://w.wallhaven.cc/full/4v/wallhaven-4vo7vl.jpg&quot;</span><br><span class="line">                    &#125;</span><br><span class="line">                  ];</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ol>
<pre><code>- 导入文件数据`import &apos;./data/list.dart&apos;;`

- 遍历数据并将结果转成`List`

  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Widget&gt; _getData() &#123;</span><br><span class="line">  var tempList = listData.map((value) &#123;</span><br><span class="line">    return ListTile(</span><br><span class="line">      title: Text(value[&quot;title&quot;]),</span><br><span class="line">      subtitle: Text(value[&quot;author&quot;]),</span><br><span class="line">      leading: Image.network(value[&quot;imageUrl&quot;]),</span><br><span class="line">    );</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  return tempList.toList();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

- 调用私有方法`_getData()`
</code></pre><ol start="2">
<li><p>利用<code>ListView</code>提供的<code>builder()</code>方法来实现动态列表</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">class MyApp extends StatelessWidget &#123;</span><br><span class="line"></span><br><span class="line">  @override</span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    return MaterialApp(</span><br><span class="line">      home: Scaffold(</span><br><span class="line">        appBar: AppBar(title: Text(&apos;I am learning Container&apos;)),</span><br><span class="line">        body: Component(), </span><br><span class="line">      ),</span><br><span class="line">      theme: ThemeData(primaryColor: Colors.lime),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Component extends StatelessWidget &#123;</span><br><span class="line">  List list = new List();</span><br><span class="line">  Component() &#123;    </span><br><span class="line">    for(var i=0; i&lt;20; i++) &#123;</span><br><span class="line">      list.add(Text(&apos;这是第$i个列表&apos;));</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  @override</span><br><span class="line">  Widget build(BuildContext buildContext) &#123;</span><br><span class="line">    return ListView.builder(</span><br><span class="line">      itemCount: list.length,</span><br><span class="line">      itemBuilder: (context, index) &#123;</span><br><span class="line">        return ListTile(</span><br><span class="line">          title: list[index],</span><br><span class="line">        );</span><br><span class="line">      &#125;,</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="GridView组件"><a href="#GridView组件" class="headerlink" title="GridView组件"></a>GridView组件</h3><p>网格布局，可用于实现商品列表。</p>
<p>常用两种方式实现网格布局： </p>
<ol>
<li><p>通过<code>GridView.count</code>实现</p>
</li>
<li><p>通过<code>GridView.builder</code>实现</p>
</li>
</ol>
<h4 id="GridView常用属性"><a href="#GridView常用属性" class="headerlink" title="GridView常用属性"></a>GridView常用属性</h4><ul>
<li><p><code>children</code></p>
<p>子元素列表，使用<code>&lt;Widget&gt;[]</code>封装</p>
</li>
<li><p><code>crossAxisCount</code> </p>
<p>一行中Widget的数量</p>
</li>
<li><p><code>mainAxisSpacing</code></p>
<p>子Widget之间垂直距离</p>
</li>
<li><p><code>crossAxisSpacing</code></p>
<p>子Widget之间水平距离</p>
</li>
<li><p><code>childAspectRatio</code></p>
<p>子Widget宽高比,通过调整宽高比来控制子组件的高度，直接设置子组件的高度是无效的</p>
</li>
</ul>
<h4 id="通过GridView-count实现网格布局"><a href="#通过GridView-count实现网格布局" class="headerlink" title="通过GridView.count实现网格布局"></a>通过<code>GridView.count</code>实现网格布局</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">class MyApp extends StatelessWidget&#123;</span><br><span class="line">  @override</span><br><span class="line">  Widget build(BuildContext buildContext)  &#123;</span><br><span class="line"></span><br><span class="line">    return MaterialApp(</span><br><span class="line">      title: &apos;listView&apos;,</span><br><span class="line">      home: Scaffold(</span><br><span class="line">        appBar: AppBar(title: Text(&apos;Change Your Mind&apos;), backgroundColor: Colors.transparent),</span><br><span class="line">        body: GridView.count(</span><br><span class="line">                crossAxisCount: 3,</span><br><span class="line">                mainAxisSpacing: 2,</span><br><span class="line">                crossAxisSpacing: 2,</span><br><span class="line">                childAspectRatio: 0.7,</span><br><span class="line">                children: &lt;Widget&gt;[</span><br><span class="line">                  Image.network(&apos;https://w.wallhaven.cc/full/nk/wallhaven-nk1gkd.jpg&apos;,fit: BoxFit.cover),</span><br><span class="line">                  Image.network(&apos;https://w.wallhaven.cc/full/vm/wallhaven-vmg8r3.jpg&apos;,fit: BoxFit.cover),</span><br><span class="line">                  Image.network(&apos;https://w.wallhaven.cc/full/47/wallhaven-47kkd3.jpg&apos;,fit: BoxFit.cover),</span><br><span class="line">                  Image.network(&apos;https://w.wallhaven.cc/full/42/wallhaven-4277l6.jpg&apos;,fit: BoxFit.cover),</span><br><span class="line">                  Image.network(&apos;https://w.wallhaven.cc/full/4x/wallhaven-4x93gv.png&apos;,fit: BoxFit.cover),</span><br><span class="line">                  Image.network(&apos;https://w.wallhaven.cc/full/4v/wallhaven-4vo7vl.jpg&apos;,fit: BoxFit.cover)</span><br><span class="line">                ],</span><br><span class="line">              )</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p>使用动态数据：</p>
<ul>
<li><p>处理动态数据</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">  import &apos;data/list.dart&apos;;</span><br><span class="line"></span><br><span class="line">  List&lt;Widget&gt; _getData() &#123;</span><br><span class="line">  var tempList = listData.map((value) &#123;</span><br><span class="line">    return Container(</span><br><span class="line">      child: Column(</span><br><span class="line">        children: &lt;Widget&gt;[</span><br><span class="line">          Image.network(value[&quot;imageUrl&quot;],fit: BoxFit.cover,),</span><br><span class="line">          Text(value[&quot;title&quot;])</span><br><span class="line">        ],</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  return tempList.toList();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>调用数据渲染</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">@override</span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    return MaterialApp(</span><br><span class="line">      home: Scaffold(</span><br><span class="line">        appBar: AppBar(title: Text(&apos;I am learning Container&apos;)),</span><br><span class="line">        body: Component(), </span><br><span class="line">      ),</span><br><span class="line">      theme: ThemeData(primaryColor: Colors.lime),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Component extends StatelessWidget &#123;</span><br><span class="line">  @override</span><br><span class="line">  Widget build(BuildContext buildContext) &#123;</span><br><span class="line">    return GridView.count(</span><br><span class="line">      crossAxisCount: 3,</span><br><span class="line">      mainAxisSpacing: 1,</span><br><span class="line">      crossAxisSpacing: 2,</span><br><span class="line">      children: _getData(),</span><br><span class="line">    );    </span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="通过GridView-builder实现网格布局"><a href="#通过GridView-builder实现网格布局" class="headerlink" title="通过GridView.builder实现网格布局"></a>通过<code>GridView.builder</code>实现网格布局</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">class Component extends StatelessWidget &#123;</span><br><span class="line">  @override</span><br><span class="line">  Widget build(BuildContext buildContext) &#123;</span><br><span class="line">    return GridView.builder(</span><br><span class="line">      gridDelegate: SliverGridDelegateWithFixedCrossAxisCount(</span><br><span class="line">        crossAxisCount: 3</span><br><span class="line">      ),</span><br><span class="line">      itemCount: listData.length,</span><br><span class="line">      itemBuilder: _getData</span><br><span class="line">    );    </span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  Widget _getData(context, index) &#123;</span><br><span class="line">    var value = listData[index];</span><br><span class="line">    return Container(</span><br><span class="line">        child: Column(</span><br><span class="line">          children: &lt;Widget&gt;[</span><br><span class="line">            Image.network(value[&quot;imageUrl&quot;],fit: BoxFit.cover,),</span><br><span class="line">            Text(value[&quot;title&quot;])</span><br><span class="line">          ],</span><br><span class="line">        ),</span><br><span class="line">      );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>使用<code>GridView.builder</code>注意事项：</p>
<ul>
<li><p><code>itemCount</code>表示需要处理的数据的长度</p>
</li>
<li><p><code>itemBuilder</code>表示处理数据的方法，需要传入<code>context</code>和<code>index</code>两个参数</p>
</li>
<li><p><code>gridDelegate</code> 用来控制每行显示的组件个数及组件之间横向纵向距离以及宽高比等，使用<code>SliverGridDelegateWithFixedCrossAxisCount</code>封装</p>
</li>
<li><p><code>gridDelegate</code>为必填项，若为空，运行时会报错30486<code>The following assertion was thrown building Component(dirty): &#39;package:flutter/src/widgets/scroll_view.dart&#39;: Failed assertion: line 1491 pos 15: &#39;gridDelegate != null&#39;: is not true.</code></p>
</li>
</ul>
<h3 id="常见的页面布局组件-padding-Row-Column-Expanded"><a href="#常见的页面布局组件-padding-Row-Column-Expanded" class="headerlink" title="常见的页面布局组件 (padding Row Column Expanded)"></a>常见的页面布局组件 (<code>padding</code> <code>Row</code> <code>Column</code> <code>Expanded</code>)</h3><h4 id="Padding组件"><a href="#Padding组件" class="headerlink" title="Padding组件"></a>Padding组件</h4><p>HTML中常见的布局标签都有<code>padding</code>属性，但Flutter中很多组件都没有<code>padding</code>属性，一般采用<code>Padding</code>组件来处理容器与子容器间接的间距</p>
<p>常用属性</p>
<ul>
<li><p><code>padding</code></p>
<p>设置内边距值</p>
</li>
<li><p><code>child</code></p>
<p>放入需要设置内边距的子组件</p>
</li>
</ul>
<h3 id="Row组件"><a href="#Row组件" class="headerlink" title="Row组件"></a>Row组件</h3><p>水平布局组件</p>
<p>常用参数</p>
<ul>
<li><p><code>mainAxisAlignment</code></p>
<p>主轴的排序方式(水平方向)</p>
<ul>
<li><p><code>MainAxisAlignment.center</code> 子元素整体居中显示</p>
</li>
<li><p><code>MainAxisAlignment.end</code> 子元素整体靠最右显示</p>
</li>
<li><p><code>MainAxisAlignment.spaceAround</code> 子元素之间的距离是元素到两边的距离的两倍</p>
</li>
<li><p><code>MainAxisAlignment.between</code> 子元素之间两边的距离为0，元素中间距离相等</p>
</li>
<li><p><code>MainAxisAlignment.spaceEvenly</code> 子元素之间和两边的距离平均分配</p>
</li>
</ul>
</li>
<li><p><code>crossAxisAlignment</code></p>
<p>次轴(垂直方向)的排序方式，相对于外层Y轴方向的显示方式</p>
<ul>
<li><p><code>CrossAxisAlignment.start</code> Y轴最上方</p>
</li>
<li><p><code>CrossAxisAlignment.end</code> Y轴最下方</p>
</li>
<li><p><code>CrossAxisAlignment.stretch</code> Y方向上拉伸至充满父元素 </p>
</li>
<li><p><code>CrossAxisAlignment.baseline</code> 设置成<code>baseline</code>时，必须设置<code>textBaseline</code>,否则会运行出错</p>
</li>
</ul>
</li>
<li><p><code>children</code></p>
<p>组件子元素</p>
</li>
</ul>
<h3 id="Column组件"><a href="#Column组件" class="headerlink" title="Column组件"></a>Column组件</h3><p>垂直布局组件</p>
<p>属性和Row组件基本一致，但主轴方向是垂直方向，次轴方向为水平方向</p>
<h3 id="Expanded组件"><a href="#Expanded组件" class="headerlink" title="Expanded组件"></a>Expanded组件</h3><p>类似于Web中的Flex布局</p>
<p>常用属性：</p>
<ul>
<li><p><code>flex</code></p>
</li>
<li><p><code>child</code></p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">class Component extends StatelessWidget &#123;</span><br><span class="line">  @override</span><br><span class="line">  Widget build(BuildContext buildContext) &#123;</span><br><span class="line">    return Container(</span><br><span class="line">      color: Colors.grey,</span><br><span class="line">      child:  Row(</span><br><span class="line">          children: &lt;Widget&gt;[</span><br><span class="line">            Expanded(</span><br><span class="line">              flex: 1,</span><br><span class="line">              child: Container(child: Text(&apos;sdfsdfs&apos;), color: Colors.blue,),</span><br><span class="line">            ),</span><br><span class="line">            Expanded(</span><br><span class="line">              flex: 2,</span><br><span class="line">              child: Container(child: Text(&apos;rstgs rrtgs&apos;), color: Colors.pink,),</span><br><span class="line">            ),</span><br><span class="line">            Expanded(</span><br><span class="line">              flex: 2,</span><br><span class="line">              child: Container(child: Text(&apos;uyki tkjh&apos;), color: Colors.green,),</span><br><span class="line">            ),</span><br><span class="line">            Expanded(</span><br><span class="line">              flex: 2,</span><br><span class="line">              child: Container(child: Text(&apos;sdhbev &apos;), color: Colors.deepOrange,),</span><br><span class="line">            ),</span><br><span class="line">          ],</span><br><span class="line">        ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<h3 id="SizeBox组件"><a href="#SizeBox组件" class="headerlink" title="SizeBox组件"></a>SizeBox组件</h3><p>元素与元素之间的间距可以用<code>margin属性</code>也可以用<code>SizeBox</code>组件，一般常用的是<code>SizeBox</code></p>
<h3 id="Stack层叠组件"><a href="#Stack层叠组件" class="headerlink" title="Stack层叠组件"></a>Stack层叠组件</h3><p>用于实现定位布局可单独使用，也可以<code>Align</code>组件或<code>Positioned</code>组件联用</p>
<h4 id="常用属性"><a href="#常用属性" class="headerlink" title="常用属性"></a>常用属性</h4><ul>
<li><p><code>alignment</code></p>
<p><code>Stack</code>组件中的所有元素对齐方式,无法对单个元素进行定位，可与<code>Align</code>或<code>Positioned</code>联用控制单个元素定位</p>
<p><code>Align</code>组件通过设置<code>alignment</code>来对单个元素进行定位</p>
<p><code>Positioned</code>组件通过设置<code>left</code> <code>right</code> <code>top</code> <code>bottom</code>等的值来对单个元素进行定位</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">class Component extends StatelessWidget &#123;</span><br><span class="line">  @override</span><br><span class="line">  Widget build(BuildContext buildContext) &#123;</span><br><span class="line">    return Center(</span><br><span class="line">      child: Container(</span><br><span class="line">        height: 400,</span><br><span class="line">        width: 300,</span><br><span class="line">        color: Colors.pinkAccent,</span><br><span class="line">        child: Stack(</span><br><span class="line">          children: &lt;Widget&gt;[</span><br><span class="line">            Align(</span><br><span class="line">              alignment: Alignment.center,</span><br><span class="line">              child: Image.network(&quot;https://w.wallhaven.cc/full/42/wallhaven-42pr69.jpg&quot;,width: 120,height: 120),</span><br><span class="line">            ),</span><br><span class="line">            Align(</span><br><span class="line">              alignment: Alignment.topLeft,</span><br><span class="line">              child: Image.network(&quot;https://w.wallhaven.cc/full/4l/wallhaven-4lepvl.jpg&quot;,width: 120,height: 120),</span><br><span class="line">            ),</span><br><span class="line">            Align(</span><br><span class="line">              alignment: Alignment.bottomLeft,</span><br><span class="line">              child: Image.network(&quot;https://w.wallhaven.cc/full/4g/wallhaven-4g3dgq.jpg&quot;,width: 120,height: 120),</span><br><span class="line">            ),</span><br><span class="line">            Align(</span><br><span class="line">              alignment: Alignment.topRight,</span><br><span class="line">              child: Image.network(&quot;https://w.wallhaven.cc/full/vm/wallhaven-vmx6gm.jpg&quot;,width: 120,height: 120),</span><br><span class="line">            ),</span><br><span class="line">            Align(</span><br><span class="line">              alignment: Alignment.bottomRight,</span><br><span class="line">              child: Image.network(&quot;https://w.wallhaven.cc/full/x1/wallhaven-x15qpv.jpg&quot;,width: 120,height: 120),</span><br><span class="line">            ),</span><br><span class="line">          ],</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>children</code></p>
</li>
</ul>
<h3 id="AspectRatio组件"><a href="#AspectRatio组件" class="headerlink" title="AspectRatio组件"></a>AspectRatio组件</h3><p>调整子元素child的宽高比</p>
<h3 id="Card组件"><a href="#Card组件" class="headerlink" title="Card组件"></a>Card组件</h3><p>卡片组件，内容可由大多数类型的组件组成，<code>Card</code>具有圆角和阴影，让它看起来更具立体感</p>
<p>常用属性：</p>
<ul>
<li><p><code>margin</code></p>
<p>外边距</p>
</li>
<li><p><code>child</code></p>
<p>子组件</p>
</li>
<li><p><code>Shape</code></p>
<p>设置阴影效果，默认阴影效果为圆角的长方形边</p>
</li>
</ul>
<p>卡片组件可以包含任何组件，但建议结合<code>ListView</code>组件一起使用,但需要注意的是<code>ListView</code>组件不能嵌套<code>ListView</code>组件</p>
<h4 id="图文卡片的实现"><a href="#图文卡片的实现" class="headerlink" title="图文卡片的实现"></a>图文卡片的实现</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">class Component extends StatelessWidget &#123;</span><br><span class="line">  @override</span><br><span class="line">  Widget build(BuildContext buildContext) &#123;</span><br><span class="line">    return ListView(</span><br><span class="line">      children: &lt;Widget&gt;[</span><br><span class="line">        Card(</span><br><span class="line">          margin: EdgeInsets.all(10),</span><br><span class="line">          child: Column(</span><br><span class="line">            children: &lt;Widget&gt;[</span><br><span class="line">              AspectRatio(</span><br><span class="line">                aspectRatio: 4/3,</span><br><span class="line">                child: Image.network(&quot;https://w.wallhaven.cc/full/ox/wallhaven-ox7357.jpg&quot;,fit: BoxFit.cover,),</span><br><span class="line">              ),</span><br><span class="line">              ListTile(</span><br><span class="line">                leading: ClipOval(                  </span><br><span class="line">                  child: Image.network(&quot;https://w.wallhaven.cc/full/13/wallhaven-13op8v.jpg&quot;,fit: BoxFit.cover,height: 50,width: 50,),</span><br><span class="line">                ),</span><br><span class="line">                title: Text(&quot;Candy Nija&quot;),</span><br><span class="line">                subtitle: Text(&quot;my first photo&quot;),</span><br><span class="line">              )</span><br><span class="line">            ],</span><br><span class="line">          ),</span><br><span class="line">        ),</span><br><span class="line">        Card(</span><br><span class="line">          margin: EdgeInsets.all(10),</span><br><span class="line">          child: Column(</span><br><span class="line">            children: &lt;Widget&gt;[</span><br><span class="line">              AspectRatio(</span><br><span class="line">                aspectRatio: 4/3,</span><br><span class="line">                child: Image.network(&quot;https://w.wallhaven.cc/full/13/wallhaven-13op8v.jpg&quot;,fit: BoxFit.cover,),</span><br><span class="line">              ),</span><br><span class="line">              ListTile(</span><br><span class="line">                leading: ClipOval(                  </span><br><span class="line">                  child: Image.network(&quot;https://w.wallhaven.cc/full/ey/wallhaven-eyv2z8.jpg&quot;,fit: BoxFit.cover,height: 50,width: 50,),</span><br><span class="line">                ),</span><br><span class="line">                title: Text(&quot;Cindy Casio&quot;),</span><br><span class="line">                subtitle: Text(&quot;stop and think&quot;),</span><br><span class="line">              )</span><br><span class="line">            ],</span><br><span class="line">          ),</span><br><span class="line">        ),</span><br><span class="line">        Card(</span><br><span class="line">          margin: EdgeInsets.all(10),</span><br><span class="line">          child: Column(</span><br><span class="line">            children: &lt;Widget&gt;[</span><br><span class="line">              AspectRatio(</span><br><span class="line">                aspectRatio: 4/3,</span><br><span class="line">                child: Image.network(&quot;https://w.wallhaven.cc/full/vg/wallhaven-vg2gl8.jpg&quot;,fit: BoxFit.cover,),</span><br><span class="line">              ),</span><br><span class="line">              ListTile(</span><br><span class="line">                // leading: ClipOval(                  </span><br><span class="line">                //   child: Image.network(&quot;https://w.wallhaven.cc/full/39/wallhaven-397326.jpg&quot;,fit: BoxFit.cover,height: 50,width: 50,),</span><br><span class="line">                // ),</span><br><span class="line">                leading: CircleAvatar(backgroundImage: NetworkImage(&quot;https://w.wallhaven.cc/full/39/wallhaven-397326.jpg&quot;),),</span><br><span class="line">                title: Text(&quot;Joker Nija&quot;),</span><br><span class="line">                subtitle: Text(&quot;Another life&quot;),</span><br><span class="line">              )</span><br><span class="line">            ],</span><br><span class="line">          ),</span><br><span class="line">        ),</span><br><span class="line">      ],</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Wrap组件"><a href="#Wrap组件" class="headerlink" title="Wrap组件"></a>Wrap组件</h3><p><code>Row</code>组件和<code>Column</code>组件分别是控制的是单行单列的布局，<code>Wrap</code>组件在主轴方向上空间不足时，会自动向次轴方向上扩展显示以实现流布局</p>
<p>常用属性： </p>
<ul>
<li><p><code>direction</code> 主轴方向</p>
<p>  <code>Axis.vertical</code> 垂直</p>
<p>  <code>Axis.horizontal</code> 水平</p>
</li>
<li><p><code>alignment</code> 主轴对齐方式</p>
</li>
<li><p><code>spacing</code> 元素之间主轴方向上的间距，直接输入数值即可</p>
</li>
<li><p><code>runSpacing</code> 元素之间在次轴方向上的间距</p>
</li>
</ul>
<h3 id="按钮组件"><a href="#按钮组件" class="headerlink" title="按钮组件"></a>按钮组件</h3><p>按钮的属性基本一致，只是显示的样式不同</p>
<ul>
<li><p><code>RaiseButton</code> 凸起按钮组件</p>
<p><code>Create a filled button.</code></p>
<p>默认为一个灰色填充效果的按钮</p>
<p><code>RaiseButton</code>组件中必须有属性<code>onPressed</code>监听，否则设置的样式等会无效</p>
</li>
<li><p><code>FlatButton</code> 扁平化按钮</p>
</li>
<li><p><code>OutlineButton</code> 线框按钮</p>
</li>
<li><p><code>IconButton</code> 图标按钮</p>
</li>
<li><p><code>ButtonBar</code> 按钮组</p>
</li>
<li><p><code>FloatingActionButton</code> 浮动按钮</p>
</li>
</ul>
<h3 id="StatefulWidget组件"><a href="#StatefulWidget组件" class="headerlink" title="StatefulWidget组件"></a>StatefulWidget组件</h3><p>Flutter中自定义组件其实就是在定义一个类，这个类需要继承<code>StatelessWidget</code>/<code>StatefulWidget</code></p>
<ul>
<li><p><code>StatelessWidget</code> 表示无状态组件，状态不可变</p>
</li>
<li><p><code>StatefulWidget</code> 表示有状态组件，持有的状态可在Widget生命周期改变。如果想改变页面中的数据，则需要使用<code>StatefulWidget</code></p>
</li>
</ul>
<p>VsCode中装插件<code>Awesome Flutter Snippets</code>后,输入<code>statelessW</code>/<code>statefulW</code>即可自动生成自定义组件的基本结构</p>
<p><code>State</code>类中有一个方法<code>setState()</code>可以改变值重新渲染页面</p>
<h3 id="BottomNavigationBar组件"><a href="#BottomNavigationBar组件" class="headerlink" title="BottomNavigationBar组件"></a>BottomNavigationBar组件</h3><p>底部导航条组件，是Scaffold的参数</p>
<p>常用参数</p>
<ul>
<li><p><code>items</code></p>
<ul>
<li><p>底部导航条按钮集合，至少要有两个<code>BottomNavigationBarItem</code>，否则运行报错<code>&#39;items.length &gt;= 2&#39;: is not true.</code></p>
</li>
<li><p>返回类型为<code>BottomNavigationBarItem</code>集合，参数有：</p>
<ul>
<li><p><code>icon</code> 图标</p>
</li>
<li><p><code>title</code> 标题名</p>
</li>
<li><p><code>activeIcon</code> 选中时图标</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p><code>currentIndex</code></p>
<p>默认选中第几个</p>
</li>
<li><p><code>onTap</code></p>
<p>选中变化回调函数</p>
</li>
<li><p><code>fixedColor</code></p>
<p>选中的颜色</p>
</li>
<li><p><code>type</code></p>
<p>配置底部导航栏可以有多个按钮</p>
<ul>
<li><p><code>BottomNavigationBarType.shifting</code></p>
<p>切换导航时有淡入淡出效果且不显示未选中的按钮</p>
</li>
<li><p><code>BottomNavigationBarType.fixed</code></p>
</li>
</ul>
</li>
</ul>
<h3 id="路由"><a href="#路由" class="headerlink" title="路由"></a>路由</h3><p>Flutter中通过<code>Navigator</code>组件管理路由导航，并提供了管理堆栈的方法，如<code>Navigator.push</code>和<code>Navigator.pop</code></p>
<p>Flutter提供了额两种配置路由跳转的方式： 基本路由和命名路由</p>
<h4 id="基本路由"><a href="#基本路由" class="headerlink" title="基本路由"></a>基本路由</h4><p>固定写法： </p>
<ul>
<li><p><code>Navigator.push</code> 跳转至下一级子页面</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Navigator.of(context).push(</span><br><span class="line">  MaterialPageRoute(</span><br><span class="line">    builder: (context) =&gt; SearchPage() // SearchPage为需要跳转的页面</span><br><span class="line">  )</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>Navigator.pop</code> 退出当前页面，返回上一级页面</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Navigator.of(context).pop();</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="命名路由"><a href="#命名路由" class="headerlink" title="命名路由"></a>命名路由</h4><ol>
<li><p>在<code>main.dart</code>文件中的<code>MaterialApp</code>中的<code>routes</code>属性进行配置路由</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">routes: &#123;</span><br><span class="line">  &apos;/search&apos; : (context) =&gt; SearchPage(),</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>通过使用<code>Navigator.pushNamed(context,&#39;路由名&#39;)</code>跳转</p>
<p> 路由名必须要跟<code>routes</code>中的名字对应</p>
</li>
</ol>
<p>命名路由传值</p>
<p>官方demo只是为了指定路由传值，以下写法可以改成通用传值: </p>
<ul>
<li><p>配置</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义路由 arguments表示可选参数</span></span><br><span class="line"><span class="keyword">final</span> routes  = &#123;</span><br><span class="line">  <span class="string">'/search'</span> : (context, &#123;arguments&#125;) =&gt; SearchPage(arguments: arguments),</span><br><span class="line">  <span class="string">'/form'</span> : (context, &#123;arguments&#125;) =&gt; SearchPage(arguments: arguments),</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="function">Widget <span class="title">build</span><span class="params">(BuildContext context)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> MaterialApp(</span><br><span class="line">      <span class="comment">// 切换路由时的操作</span></span><br><span class="line">      onGenerateRoute: (settings) &#123;</span><br><span class="line">        <span class="keyword">final</span> String name = settings.name;<span class="comment">// 获取路由名称</span></span><br><span class="line">        <span class="keyword">final</span> Function pageContentBuilder = <span class="keyword">this</span>.routes[name];<span class="comment">// 将自定义配置的路由名赋给pageContentBuilder</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(pageContentBuilder != <span class="keyword">null</span>) &#123;</span><br><span class="line">          <span class="comment">// pageContentBuilder不为空，利用MaterialPageRoute进行跳转</span></span><br><span class="line">          <span class="keyword">if</span> (settings.arguments != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">final</span> Route route = MaterialPageRoute(</span><br><span class="line">              builder: (context) =&gt; </span><br><span class="line">                pageContentBuilder(context,arguments: settings.arguments));<span class="comment">// settings.arguments为传递的参数</span></span><br><span class="line">            <span class="keyword">return</span> route;</span><br><span class="line">          &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">final</span> Route route= MaterialPageRoute(</span><br><span class="line">              builder: (context) =&gt; </span><br><span class="line">                pageContentBuilder(context));</span><br><span class="line">            <span class="keyword">return</span> route;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      home: Tabs(),</span><br><span class="line">      theme: ThemeData(primaryColor: Colors.lime)</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'package:flutter/material.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SearchPage</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">final</span> arguments;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">const</span> <span class="title">SearchPage</span><span class="params">(&#123;<span class="keyword">this</span>.arguments&#125;)</span></span>;</span><br><span class="line">    <span class="meta">@override</span></span><br><span class="line">    <span class="function">Widget <span class="title">build</span><span class="params">(BuildContext context)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> Container(</span><br><span class="line">        child: Scaffold(</span><br><span class="line">          appBar: AppBar(title: Text(<span class="string">'搜索'</span>),),</span><br><span class="line">          body: Container(</span><br><span class="line">            child: Row(</span><br><span class="line">              children: &lt;Widget&gt;[</span><br><span class="line">                RaisedButton(</span><br><span class="line">                  child: Text(<span class="string">'查询$&#123;arguments != null ? arguments['</span>id<span class="string">'] : '</span><span class="number">0</span><span class="string">'&#125;'</span>),</span><br><span class="line">                  onPressed: () &#123;</span><br><span class="line">                    </span><br><span class="line">                  &#125;,</span><br><span class="line">                )</span><br><span class="line">              ],</span><br><span class="line">            ),</span><br><span class="line">          ),</span><br><span class="line">        ),</span><br><span class="line">      );</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>路由配置可最终抽离成一个单独的文件<code>Routes.dart</code>:</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">'package:flutter/material.dart'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'../pages/Search.dart'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'../pages/Tabs.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 配置路由</span></span><br><span class="line"><span class="keyword">final</span> routes  = &#123;</span><br><span class="line">  <span class="string">'/'</span> : (context, &#123;arguments&#125;) =&gt; Tabs(),</span><br><span class="line">  <span class="string">'/search'</span> : (context, &#123;arguments&#125;) =&gt; SearchPage(arguments: arguments),</span><br><span class="line">  <span class="string">'/form'</span> : (context, &#123;arguments&#125;) =&gt; SearchPage(arguments: arguments),</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 配置路由跳转</span></span><br><span class="line">var onGenerateRoute = (settings) &#123;</span><br><span class="line">        <span class="keyword">final</span> String name = settings.name;</span><br><span class="line">        <span class="keyword">final</span> Function pageContentBuilder = routes[name];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(pageContentBuilder != <span class="keyword">null</span>) &#123;</span><br><span class="line">          <span class="comment">// If you push the route</span></span><br><span class="line">          <span class="keyword">if</span> (settings.arguments != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="comment">// Cast the arguments to the correct type: ScreenArguments.</span></span><br><span class="line">            <span class="keyword">final</span> Route route = MaterialPageRoute(</span><br><span class="line">              builder: (context) =&gt; </span><br><span class="line">                pageContentBuilder(context,arguments: settings.arguments));</span><br><span class="line">            <span class="keyword">return</span> route;</span><br><span class="line">          &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">final</span> Route route= MaterialPageRoute(</span><br><span class="line">              builder: (context) =&gt; </span><br><span class="line">                pageContentBuilder(context));</span><br><span class="line">            <span class="keyword">return</span> route;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;;</span><br></pre></td></tr></table></figure>
<p><code>main.dart</code>配置如下:</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'package:flutter/material.dart'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'routes/Routes.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">main</span><span class="params">()</span> </span>=&gt; runApp(MyApp());</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyApp</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="function">Widget <span class="title">build</span><span class="params">(BuildContext context)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> MaterialApp(</span><br><span class="line">      onGenerateRoute: onGenerateRoute,</span><br><span class="line">      initialRoute: <span class="string">'/'</span>, <span class="comment">// 初始化加载的路由</span></span><br><span class="line">      theme: ThemeData(primaryColor: Colors.lime),</span><br><span class="line">      <span class="comment">// routes: &#123;</span></span><br><span class="line">      <span class="comment">//   '/search' : (context) =&gt; SearchPage(),</span></span><br><span class="line">      <span class="comment">// &#125;,</span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="路由替换以及返回到根路由"><a href="#路由替换以及返回到根路由" class="headerlink" title="路由替换以及返回到根路由"></a>路由替换以及返回到根路由</h3><ul>
<li><p><code>Navigator.of(context).pushReplacementNamed(&#39;路由名&#39;)</code></p>
<p>替换路由，将当前页面替换成指定页面，替换后的页面点击返回时，返回的还是当前页面的上一级</p>
<p>因此可以借助路由替换来实现返回根路由</p>
</li>
<li><p><code>Navigator.of(context).pushAndRemoveUntil(newRoute, predicate)</code></p>
<p>直接返回根目录</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Navigator.of(context).pushAndRemoveUntil(MaterialPageRoute(</span><br><span class="line">                builder: (context) =&gt; Tabs(),<span class="comment">// 根路由页面</span></span><br><span class="line">              ), (route) =&gt; route = <span class="keyword">null</span>);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="AppBar组件"><a href="#AppBar组件" class="headerlink" title="AppBar组件"></a>AppBar组件</h3><p>将<code>MaterialApp</code>中的<code>debugShowCheckedModeBanner</code>设置成为<code>false</code>则不显示右上角<code>debugg</code>图标</p>
<p>顶部导航</p>
<ul>
<li><p><code>title</code> </p>
<p>顶部导航文字 </p>
</li>
<li><p><code>backgroundColor</code></p>
<p>导航栏背景颜色</p>
</li>
<li><p><code>leading</code></p>
<p>导航栏左侧加元素，一般是图标,如果需要点击图标监听事件，则需要用<code>IconButton</code></p>
</li>
<li><p><code>actions</code></p>
<p>导航栏右侧添加元素</p>
</li>
<li><p><code>centerTitle</code></p>
<p>设置文本是否居中</p>
</li>
<li><p><code>automaticallyImplyLeading</code></p>
<p>导航栏左侧是否显示自动生成的<code>leading</code>图标</p>
<ul>
<li><p>/// Controls whether we should try to imply the leading widget if null.<br>///<br>/// If true and [leading] is null, automatically try to deduce what the leading<br>/// widget should be. If false and [leading] is null, leading space is given to [title].<br>/// If leading widget is not null, this parameter has no effect.</p>
</li>
</ul>
</li>
</ul>
<h3 id="TabController"><a href="#TabController" class="headerlink" title="TabController"></a>TabController</h3><ul>
<li><p>在<code>MaterialApp</code>的<code>home</code>内添加<code>DefaultTabController()</code>,设置标签长度<code>length</code></p>
<p>  若不配置<code>length</code>,运行时会报错：</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">The method &apos;&gt;=&apos; was called on null.</span><br><span class="line">···</span><br><span class="line">When the exception was thrown, this was the stack:</span><br><span class="line">I/flutter ( 3567): #0      Object.noSuchMethod (dart:core-patch/object_patch.dart:51:5)</span><br><span class="line">I/flutter ( 3567): #1      new DefaultTabController (package:flutter/src/material/tab_controller.dart:315:22)</span><br></pre></td></tr></table></figure>
</li>
<li><p>在<code>AppBar()</code>的<code>bottom</code>属性中添加<code>TabBar()</code></p>
</li>
<li><p>在<code>body</code>中设置<code>TabView()</code>,定义标签切换对应的页面</p>
<p><code>TabView()</code>的长度必须与<code>TabBar()</code>中的一致，否则报错：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">The following assertion was thrown building TabBarView(dirty, dependencies: [_TabControllerScope],</span><br><span class="line">I/flutter ( 3567): state: _TabBarViewState#351c0):</span><br><span class="line">I/flutter ( 3567): Controller&apos;s length property (2) does not match the</span><br><span class="line">I/flutter ( 3567): number of tabs (3) present in TabBar&apos;s tabs property.</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>demo示例：</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">MaterialApp(</span><br><span class="line">  theme: ThemeData(primaryColor: Colors.lime),</span><br><span class="line">  home: DefaultTabController(</span><br><span class="line">    length: <span class="number">2</span>,</span><br><span class="line">    child: Scaffold(</span><br><span class="line">      appBar: AppBar(</span><br><span class="line">        title: Text(<span class="string">"data"</span>),</span><br><span class="line">        bottom: TabBar(</span><br><span class="line">          tabs: &lt;Widget&gt;[</span><br><span class="line">            Tab(text: <span class="string">"热门"</span>,),</span><br><span class="line">            Tab(text: <span class="string">"推荐"</span>,)</span><br><span class="line">          ],</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">      body: TabBarView(</span><br><span class="line">              children: &lt;Widget&gt;[</span><br><span class="line">                ListView(</span><br><span class="line">                  children: &lt;Widget&gt;[</span><br><span class="line">                    ListTile(title: Text(<span class="string">"热门标签内容"</span>),),</span><br><span class="line">                    ListTile(title: Text(<span class="string">"热门标签内容"</span>),),</span><br><span class="line">                    ListTile(title: Text(<span class="string">"热门标签内容"</span>),),</span><br><span class="line">                    ListTile(title: Text(<span class="string">"热门标签内容"</span>),),</span><br><span class="line">                    ListTile(title: Text(<span class="string">"热门标签内容"</span>),),</span><br><span class="line">                  ],</span><br><span class="line">                ),</span><br><span class="line">                ListView(</span><br><span class="line">                  children: &lt;Widget&gt;[</span><br><span class="line">                    ListTile(title: Text(<span class="string">"推荐标签内容"</span>),),</span><br><span class="line">                    ListTile(title: Text(<span class="string">"推荐标签内容"</span>),),</span><br><span class="line">                    ListTile(title: Text(<span class="string">"推荐标签内容"</span>),),</span><br><span class="line">                    ListTile(title: Text(<span class="string">"推荐标签内容"</span>),),</span><br><span class="line">                    ListTile(title: Text(<span class="string">"推荐标签内容"</span>),),</span><br><span class="line">                  ],</span><br><span class="line">                ),</span><br><span class="line">              ],</span><br><span class="line">            ),</span><br><span class="line">    ),</span><br><span class="line">))</span><br></pre></td></tr></table></figure>
<h3 id="Divider组件"><a href="#Divider组件" class="headerlink" title="Divider组件"></a>Divider组件</h3><p>分割线</p>
<h3 id="Drawer组件"><a href="#Drawer组件" class="headerlink" title="Drawer组件"></a>Drawer组件</h3><p><code>Drawer</code>组件中可以设置<code>DrawerHeader</code>组件,设置抽屉头部样式</p>
<p><code>UserAccountsDrawerHeader</code>组件可以快速实现头部组件样式，显示用户头像信息等</p>
<h3 id="表单"><a href="#表单" class="headerlink" title="表单"></a>表单</h3><h4 id="TextField-文本框组件"><a href="#TextField-文本框组件" class="headerlink" title="TextField 文本框组件"></a><code>TextField</code> 文本框组件</h4><h2 id="第三方库"><a href="#第三方库" class="headerlink" title="第三方库"></a>第三方库</h2><h3 id="flutter-swiper-轮播图"><a href="#flutter-swiper-轮播图" class="headerlink" title="flutter_swiper 轮播图"></a>flutter_swiper 轮播图</h3><h2 id="实践中的踩坑记录"><a href="#实践中的踩坑记录" class="headerlink" title="实践中的踩坑记录"></a>实践中的踩坑记录</h2><h3 id="更换APP图标及名称"><a href="#更换APP图标及名称" class="headerlink" title="更换APP图标及名称"></a>更换APP图标及名称</h3><ul>
<li><p>更换图标 </p>
<p>Android &amp; IOS 图标一键生成网站： <a href="http://icon.wuruihong.com/" target="_blank" rel="noopener">http://icon.wuruihong.com/</a></p>
<p>上传一张原图片后，会自动生成压缩包，下载解压后可以看到Android和IOS两个文件夹</p>
<ul>
<li><p>将Android文件夹的内容复制到<code>项目根目录\android\app\src\main\res</code>,将原文件夹替换</p>
</li>
<li><p>将IOS文件夹的内容复制到<code>项目根目录\ios\Runner\Assets.xcassets</code>下，将原<code>AppIcon.appiconset</code>文件夹替换</p>
</li>
</ul>
</li>
<li><p>更换APP名称</p>
<ul>
<li><p>Android名称： 打开<code>项目根目录\android\app\src\main</code>文件夹下的<code>AndroidManifest.xml</code>文件，修改<code>android:label</code>：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">application</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:name</span>=<span class="string">"io.flutter.app.FlutterApplication"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:label</span>=<span class="string">"聖巡"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:icon</span>=<span class="string">"@mipmap/ic_launcher"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">activity</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:name</span>=<span class="string">".MainActivity"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:launchMode</span>=<span class="string">"singleTop"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:theme</span>=<span class="string">"@style/LaunchTheme"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:configChanges</span>=<span class="string">"orientation|keyboardHidden|keyboard|screenSize|locale|layoutDirection|fontScale|screenLayout|density|uiMode"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:hardwareAccelerated</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:windowSoftInputMode</span>=<span class="string">"adjustResize"</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- This keeps the window background of the activity showing</span></span><br><span class="line"><span class="comment">             until Flutter renders its first frame. It can be removed if</span></span><br><span class="line"><span class="comment">             there is no splash screen (such as the default splash screen</span></span><br><span class="line"><span class="comment">             defined in @style/LaunchTheme). --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta-data</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:name</span>=<span class="string">"io.flutter.app.android.SplashScreenUntilFirstFrame"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:value</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">intent-filter</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">action</span> <span class="attr">android:name</span>=<span class="string">"android.intent.action.MAIN"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">category</span> <span class="attr">android:name</span>=<span class="string">"android.intent.category.LAUNCHER"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">intent-filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">activity</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">application</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>IOS名称： 打开<code>项目根目录\ios\Runner</code>下的<code>info.plist</code>文件，修改<code>dict.String</code></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dict</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">key</span>&gt;</span>CFBundleDevelopmentRegion<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">string</span>&gt;</span>$(DEVELOPMENT_LANGUAGE)<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">key</span>&gt;</span>CFBundleExecutable<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">string</span>&gt;</span>$(EXECUTABLE_NAME)<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">key</span>&gt;</span>CFBundleIdentifier<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">string</span>&gt;</span>$(PRODUCT_BUNDLE_IDENTIFIER)<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">key</span>&gt;</span>CFBundleInfoDictionaryVersion<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">string</span>&gt;</span>6.0<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">key</span>&gt;</span>CFBundleName<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">string</span>&gt;</span>聖巡<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">key</span>&gt;</span>CFBundlePackageType<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">string</span>&gt;</span>APPL<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">key</span>&gt;</span>CFBundleShortVersionString<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">string</span>&gt;</span>$(FLUTTER_BUILD_NAME)<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">key</span>&gt;</span>CFBundleSignature<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">string</span>&gt;</span>????<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">key</span>&gt;</span>CFBundleVersion<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">string</span>&gt;</span>$(FLUTTER_BUILD_NUMBER)<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">key</span>&gt;</span>LSRequiresIPhoneOS<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">true</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">key</span>&gt;</span>UILaunchStoryboardName<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">string</span>&gt;</span>LaunchScreen<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">key</span>&gt;</span>UIMainStoryboardFile<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">string</span>&gt;</span>Main<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">key</span>&gt;</span>UISupportedInterfaceOrientations<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">array</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">string</span>&gt;</span>UIInterfaceOrientationPortrait<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">string</span>&gt;</span>UIInterfaceOrientationLandscapeLeft<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">string</span>&gt;</span>UIInterfaceOrientationLandscapeRight<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">array</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">key</span>&gt;</span>UISupportedInterfaceOrientations~ipad<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">array</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">string</span>&gt;</span>UIInterfaceOrientationPortrait<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">string</span>&gt;</span>UIInterfaceOrientationPortraitUpsideDown<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">string</span>&gt;</span>UIInterfaceOrientationLandscapeLeft<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">string</span>&gt;</span>UIInterfaceOrientationLandscapeRight<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">array</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">key</span>&gt;</span>UIViewControllerBasedStatusBarAppearance<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">false</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dict</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h3 id="命名规范"><a href="#命名规范" class="headerlink" title="命名规范"></a>命名规范</h3><p>此命名规范来自Dart官方网站： <code>https://dart.dev/guides/language/effective-dart/style</code></p>
<p>Dart中的命名方式有三种： <code>UpperCamelCase</code> 首字母大写(包括第一个字母)的驼峰式、<code>lowerCamelCase</code>首字母大写，第一个字母小写的驼峰式、<code>lowercase_with_underscores</code>带有下划线的小写字母</p>
<ol>
<li><p><code>Classes, enums, typedefs, and type parameters should capitalize the first letter of each word (including the first word), and use no separators.</code></p>
<p> 类名、枚举、<code>typedefs</code>(这啥？)、泛型参数采用<code>UpperCamelCase</code></p>
</li>
<li><p><code>DO name libraries, packages, directories, and source files using lowercase_with_underscores.</code></p>
<p>库名、包名、文件夹名、文件名采用<code>lowercase_with_underscores</code>(小写字母+下划线)</p>
</li>
<li><p><code>DO name import prefixes using lowercase_with_underscores.</code></p>
<p>重命名导入的包时，采用<code>lowercase_with_underscores</code>(小写字母+下划线)</p>
</li>
<li><p><code>DO name other identifiers using lowerCamelCase.</code></p>
<p>命名其他时采用<code>lowerCamelCase</code></p>
</li>
<li><p><code>PREFER using lowerCamelCase for constant names.</code></p>
<p>最好使用<code>lowerCamelCase</code>来命名常量</p>
</li>
</ol>
<h3 id="嵌入地图"><a href="#嵌入地图" class="headerlink" title="嵌入地图"></a>嵌入地图</h3><p>我为啥一上来就用了个这么虐心的组件？？？o(╥﹏╥)o</p>
<h4 id="高德地图"><a href="#高德地图" class="headerlink" title="高德地图"></a>高德地图</h4><p><code>amap_base_flutter</code>插件可以实现定位、简单的地图展示、导航、搜索等功能</p>
<p>Android版：</p>
<ul>
<li><p>在<code>pubspec.yaml</code>文件中引入依赖，无需添加版本号：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dependencies:</span><br><span class="line">  amap_location:</span><br></pre></td></tr></table></figure>
</li>
<li><p>至高德地图<code>https://lbs.amap.com/api/android-sdk/guide/create-project/get-key</code>注册<code>API key</code></p>
</li>
<li><p>修改 <code>项目目录/app/build.gradle</code> 在<code>android/defaultConfig</code>节点修改<code>manifestPlaceholders</code>,新增百度地图AK配置</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">android &#123;</span><br><span class="line">  .... 你的代码</span><br><span class="line"></span><br><span class="line">  defaultConfig &#123;</span><br><span class="line">      .....</span><br><span class="line">      manifestPlaceholders = [</span><br><span class="line">              AMAP_KEY : &quot;你的高德地图AK&quot;, // 高德地图AK</span><br><span class="line">      ]</span><br><span class="line"></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="Http请求"><a href="#Http请求" class="headerlink" title="Http请求"></a>Http请求</h3><ol>
<li><p>引入<code>dio</code>包</p>
<p> <code>dio</code>是一个强大的<code>Dart Http</code>请求库，支持<code>Restful API</code>、<code>FormData</code>、拦截器、请求取消、Cookie管理、文件上传/下载、超时、自定义适配器等…</p>
<p> 在<code>pubspec.yaml</code>文件中添加依赖:</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">dependencies:</span></span><br><span class="line"><span class="attr">  dio:</span> <span class="string">^3.x.x</span>  <span class="string">//</span> <span class="string">请使用pub上3.0.0分支的最新版本(本人用的是3.0.5)</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>常见报错信息：</p>
<ul>
<li><p><code>SocketException: Failed host lookup: &#39;www.baidu.com&#39; (OS Error: No address associated with hostnam, errno = 7)</code></p>
<p>  测试DIO做请求时，写了个方法get百度首页数据，返回此报错，结果发现是手机没联网导致，emmm…</p>
</li>
<li><p><code>Unhandled Exception: DioError [DioErrorType.RESPONSE]: Http status error [400]</code></p>
<ul>
<li><p>状态为400可能有很多原因，此为碰到的其中之一</p>
<p><code>post</code>发送请求时一直没反应，状态为400，后来终于发现是封装方法是出现问题</p>
<p><code>get</code>方法： </p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">get</span>(url, &#123;data, options, cancelTocken&#125;) <span class="keyword">async</span>&#123;</span><br><span class="line">  Response response;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    response = <span class="keyword">await</span> dio.<span class="keyword">get</span>(url, queryParameters: data, options: options, cancelToken: cancelToken);</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">'get success---------<span class="subst">$&#123;response.statusCode&#125;</span>'</span>);</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">'get success---------<span class="subst">$&#123;response.data&#125;</span>'</span>);</span><br><span class="line">      </span><br><span class="line">  &#125; on DioError <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">'get error---------$e'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> response.data;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>post</code>方法：</p>
  <figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">post(url, &#123;data, options, cancelToken&#125;) <span class="keyword">async</span> &#123;</span><br><span class="line">  Response response;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    response = <span class="keyword">await</span> dio.post(url, data: data, options: options, cancelToken: cancelToken);</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">'get success---------<span class="subst">$&#123;response.statusCode&#125;</span>'</span>);</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">'get success---------<span class="subst">$&#123;response.data&#125;</span>'</span>);</span><br><span class="line">  &#125; on DioError <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">'get error---------$e'</span>);</span><br><span class="line">  &#125; </span><br><span class="line">  <span class="keyword">return</span> response.data;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>  <code>get</code>方法中，接收参数的属性是<code>queryParameters</code>,<code>post</code>方法中，接收参数的属性是<code>data</code>,一开始将<code>post</code>方法中接收参数的属性写成了<code>queryParameters</code>,结果做请求时一直毫无反应，debug进去发现报了<code>Http status error [400]</code>的错。坑！</p>
</li>
</ul>
</li>
<li><p><code>DioError [DioErrorType.RESPONSE]: Http status error [415]</code></p>
</li>
</ul>
<h2 id="报错集锦"><a href="#报错集锦" class="headerlink" title="报错集锦"></a>报错集锦</h2><ul>
<li><p><code>* Error running Gradle: ProcessException: Process &quot;D:\vscodework\yardApp\android\gradlew.bat&quot; exited abnormally: Configure project :app</code></p>
<p>八成是被墙了，下载不下来依赖，在环境变量中配置一下两个参数就解决了：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">FLUTTER_STORAGE_BASE_URL=https://storage.flutter-io.cn</span><br><span class="line"></span><br><span class="line">PUB_HOSTED_URL=https://pub.flutter-io.cn</span><br></pre></td></tr></table></figure>
<p>环境变量配置好后需要重启电脑才能生效</p>
</li>
</ul>
<hr>
<p>参考资料：</p>
<ol>
<li><p>Flutter官网： <a href="https://flutter.dev/" target="_blank" rel="noopener">https://flutter.dev/</a></p>
</li>
<li><p>技术胖教学视频： <a href="https://www.bilibili.com/watchlater/#/av35800108/p1" target="_blank" rel="noopener">https://www.bilibili.com/watchlater/#/av35800108/p1</a></p>
</li>
<li><p>Material官网： <a href="https://material.io/" target="_blank" rel="noopener">https://material.io/</a></p>
</li>
<li><p>Flutter教程_2019年最新Flutter 零基础入门实战教程:  <a href="https://www.bilibili.com/watchlater/?spm_id_from=666.19.b_62696c692d6865616465722d6d.17#/av53072584/p17" target="_blank" rel="noopener">https://www.bilibili.com/watchlater/?spm_id_from=666.19.b_62696c692d6865616465722d6d.17#/av53072584/p17</a></p>
</li>
</ol>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Computer-Language/" rel="tag"># Computer Language</a>
          
            <a href="/tags/UI/" rel="tag"># UI</a>
          
            <a href="/tags/framework/" rel="tag"># framework</a>
          
            <a href="/tags/Flutter/" rel="tag"># Flutter</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/10/13/frontend/css/" rel="next" title="前端基础之CSS">
                <i class="fa fa-chevron-left"></i> 前端基础之CSS
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/10/23/frameworks/ofbiz/" rel="prev" title="Ofbiz">
                Ofbiz <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      <!-- 文章上一篇/下一篇切换之后 -->


      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image" src="https://avatars1.githubusercontent.com/u/30209089?s=460&v=4" alt="Aurelia">
          <p class="site-author-name" itemprop="name">Aurelia</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
           
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">36</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">30</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">37</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#写在最前面"><span class="nav-number">1.</span> <span class="nav-text">写在最前面</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#下载与安装-Windows系统"><span class="nav-number">2.</span> <span class="nav-text">下载与安装(Windows系统)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Windows系统两种安装方式"><span class="nav-number">2.1.</span> <span class="nav-text">Windows系统两种安装方式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Dart开发工具配置Dart"><span class="nav-number">2.2.</span> <span class="nav-text">Dart开发工具配置Dart</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Vscode中配置Dart"><span class="nav-number">2.2.1.</span> <span class="nav-text">Vscode中配置Dart</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Dart-语法"><span class="nav-number">3.</span> <span class="nav-text">Dart 语法</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#入口方法"><span class="nav-number">3.1.</span> <span class="nav-text">入口方法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#注释方式"><span class="nav-number">3.2.</span> <span class="nav-text">注释方式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#变量与常量"><span class="nav-number">3.3.</span> <span class="nav-text">变量与常量</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#定义变量"><span class="nav-number">3.3.1.</span> <span class="nav-text">定义变量</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#变量名称命名规则"><span class="nav-number">3.3.1.1.</span> <span class="nav-text">变量名称命名规则</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#定义常量"><span class="nav-number">3.4.</span> <span class="nav-text">定义常量</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数据类型"><span class="nav-number">3.5.</span> <span class="nav-text">数据类型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#字符串-String类型"><span class="nav-number">3.5.1.</span> <span class="nav-text">字符串 (String类型)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#字符串的定义方式"><span class="nav-number">3.5.1.1.</span> <span class="nav-text">字符串的定义方式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#字符串的拼接"><span class="nav-number">3.5.1.2.</span> <span class="nav-text">字符串的拼接</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#数值类型-Number型"><span class="nav-number">3.5.2.</span> <span class="nav-text">数值类型(Number型)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#布尔类型"><span class="nav-number">3.5.3.</span> <span class="nav-text">布尔类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#数组-集合类型-List"><span class="nav-number">3.5.4.</span> <span class="nav-text">数组/集合类型 (List)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#字典类型-Map"><span class="nav-number">3.5.5.</span> <span class="nav-text">字典类型(Map)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#数据类型的判断"><span class="nav-number">3.5.6.</span> <span class="nav-text">数据类型的判断</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#运算符-与java一样-先跳过"><span class="nav-number">3.6.</span> <span class="nav-text">运算符 (与java一样 先跳过)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#循环语句-与java一样-先跳过"><span class="nav-number">3.7.</span> <span class="nav-text">循环语句 (与java一样 先跳过)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#集合-与java一样-先跳过"><span class="nav-number">3.8.</span> <span class="nav-text">集合 (与java一样 先跳过)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#方法的定义"><span class="nav-number">3.9.</span> <span class="nav-text">方法的定义</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#基本格式"><span class="nav-number">3.9.1.</span> <span class="nav-text">基本格式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#箭头函数"><span class="nav-number">3.9.2.</span> <span class="nav-text">箭头函数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Dart中类和对象"><span class="nav-number">3.10.</span> <span class="nav-text">Dart中类和对象</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Flutter环境配置"><span class="nav-number">4.</span> <span class="nav-text">Flutter环境配置</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#windows上搭建Flutter-Android运行环境"><span class="nav-number">4.1.</span> <span class="nav-text">windows上搭建Flutter Android运行环境</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Flutter-V-1-9-1-2019年9月更新版"><span class="nav-number">5.</span> <span class="nav-text">Flutter (V 1.9.1 2019年9月更新版)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#跟随官网开始学-https-flutter-dev-docs-get-started-codelab"><span class="nav-number">5.1.</span> <span class="nav-text">跟随官网开始学(https://flutter.dev/docs/get-started/codelab)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#说明"><span class="nav-number">5.1.1.</span> <span class="nav-text">说明</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#第一步-初始化Flutter-app"><span class="nav-number">5.1.1.1.</span> <span class="nav-text">第一步 初始化Flutter app</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#第二步-引用外部包"><span class="nav-number">5.1.1.2.</span> <span class="nav-text">第二步 引用外部包</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#第三步-添加一个有状态的组件"><span class="nav-number">5.1.1.3.</span> <span class="nav-text">第三步 添加一个有状态的组件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#第四步-创建无限滚动的ListView"><span class="nav-number">5.1.1.4.</span> <span class="nav-text">第四步 创建无限滚动的ListView</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Flutter内置组件"><span class="nav-number">5.2.</span> <span class="nav-text">Flutter内置组件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#基本结构"><span class="nav-number">5.2.1.</span> <span class="nav-text">基本结构</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Scaffold组件"><span class="nav-number">5.2.2.</span> <span class="nav-text">Scaffold组件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Text组件"><span class="nav-number">5.2.3.</span> <span class="nav-text">Text组件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Container组件-容器组件"><span class="nav-number">5.2.4.</span> <span class="nav-text">Container组件/容器组件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#image-图片组件"><span class="nav-number">5.2.5.</span> <span class="nav-text">image(图片组件)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#圆角图片实现的两种方式"><span class="nav-number">5.2.5.1.</span> <span class="nav-text">圆角图片实现的两种方式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#引入本地图片"><span class="nav-number">5.2.5.2.</span> <span class="nav-text">引入本地图片</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#列表组件-ListView"><span class="nav-number">5.2.6.</span> <span class="nav-text">列表组件 ListView</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#列表组件中的参数"><span class="nav-number">5.2.6.1.</span> <span class="nav-text">列表组件中的参数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#动态列表"><span class="nav-number">5.2.6.2.</span> <span class="nav-text">动态列表</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#GridView组件"><span class="nav-number">5.2.7.</span> <span class="nav-text">GridView组件</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#GridView常用属性"><span class="nav-number">5.2.7.1.</span> <span class="nav-text">GridView常用属性</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#通过GridView-count实现网格布局"><span class="nav-number">5.2.7.2.</span> <span class="nav-text">通过GridView.count实现网格布局</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#通过GridView-builder实现网格布局"><span class="nav-number">5.2.7.3.</span> <span class="nav-text">通过GridView.builder实现网格布局</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#常见的页面布局组件-padding-Row-Column-Expanded"><span class="nav-number">5.2.8.</span> <span class="nav-text">常见的页面布局组件 (padding Row Column Expanded)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Padding组件"><span class="nav-number">5.2.8.1.</span> <span class="nav-text">Padding组件</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Row组件"><span class="nav-number">5.2.9.</span> <span class="nav-text">Row组件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Column组件"><span class="nav-number">5.2.10.</span> <span class="nav-text">Column组件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Expanded组件"><span class="nav-number">5.2.11.</span> <span class="nav-text">Expanded组件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SizeBox组件"><span class="nav-number">5.2.12.</span> <span class="nav-text">SizeBox组件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Stack层叠组件"><span class="nav-number">5.2.13.</span> <span class="nav-text">Stack层叠组件</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#常用属性"><span class="nav-number">5.2.13.1.</span> <span class="nav-text">常用属性</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#AspectRatio组件"><span class="nav-number">5.2.14.</span> <span class="nav-text">AspectRatio组件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Card组件"><span class="nav-number">5.2.15.</span> <span class="nav-text">Card组件</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#图文卡片的实现"><span class="nav-number">5.2.15.1.</span> <span class="nav-text">图文卡片的实现</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Wrap组件"><span class="nav-number">5.2.16.</span> <span class="nav-text">Wrap组件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#按钮组件"><span class="nav-number">5.2.17.</span> <span class="nav-text">按钮组件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#StatefulWidget组件"><span class="nav-number">5.2.18.</span> <span class="nav-text">StatefulWidget组件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#BottomNavigationBar组件"><span class="nav-number">5.2.19.</span> <span class="nav-text">BottomNavigationBar组件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#路由"><span class="nav-number">5.2.20.</span> <span class="nav-text">路由</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#基本路由"><span class="nav-number">5.2.20.1.</span> <span class="nav-text">基本路由</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#命名路由"><span class="nav-number">5.2.20.2.</span> <span class="nav-text">命名路由</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#路由替换以及返回到根路由"><span class="nav-number">5.2.21.</span> <span class="nav-text">路由替换以及返回到根路由</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#AppBar组件"><span class="nav-number">5.2.22.</span> <span class="nav-text">AppBar组件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#TabController"><span class="nav-number">5.2.23.</span> <span class="nav-text">TabController</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Divider组件"><span class="nav-number">5.2.24.</span> <span class="nav-text">Divider组件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Drawer组件"><span class="nav-number">5.2.25.</span> <span class="nav-text">Drawer组件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#表单"><span class="nav-number">5.2.26.</span> <span class="nav-text">表单</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#TextField-文本框组件"><span class="nav-number">5.2.26.1.</span> <span class="nav-text">TextField 文本框组件</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#第三方库"><span class="nav-number">5.3.</span> <span class="nav-text">第三方库</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#flutter-swiper-轮播图"><span class="nav-number">5.3.1.</span> <span class="nav-text">flutter_swiper 轮播图</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#实践中的踩坑记录"><span class="nav-number">5.4.</span> <span class="nav-text">实践中的踩坑记录</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#更换APP图标及名称"><span class="nav-number">5.4.1.</span> <span class="nav-text">更换APP图标及名称</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#命名规范"><span class="nav-number">5.4.2.</span> <span class="nav-text">命名规范</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#嵌入地图"><span class="nav-number">5.4.3.</span> <span class="nav-text">嵌入地图</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#高德地图"><span class="nav-number">5.4.3.1.</span> <span class="nav-text">高德地图</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Http请求"><span class="nav-number">5.4.4.</span> <span class="nav-text">Http请求</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#报错集锦"><span class="nav-number">5.5.</span> <span class="nav-text">报错集锦</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy;  2019 - 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Aurelia</span>&nbsp;&nbsp;&nbsp;&nbsp;

  
  <div class="powered-by">
    由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动
  </div>

  <div class="powered-by">
    主题 -
    <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">
      NexT.Mist
    </a>
  </div>
  
</div>





        
  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?d82223039d601f2f819f8fe140a63468";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>


        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  




	





  





  





  






  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  

  

  

</body>
</html>
